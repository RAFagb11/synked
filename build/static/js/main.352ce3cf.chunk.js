(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(33)},28:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),i=(a(28),a(5)),s=a(3),c=a(12),d=a(19),p=a(1),m=a(8);const u={apiKey:"AIzaSyBGODqqdtwz8SFoyi3UQKsBJj-bEOZFo24",authDomain:"synked-db.firebaseapp.com",projectId:"synked-db",storageBucket:"synked-db.firebasestorage.app",messagingSenderId:"610714142518",appId:"1:610714142518:web:fd1af537bb25288d491597",measurementId:"G-C5EBLWSXQH"},g=Object(d.a)(u),b=Object(c.b)(g),y=Object(p.h)(g),x=Object(m.b)(g);console.log("Firebase initialized with project:",u.projectId),console.log("Auth instance:",b),console.log("Firestore instance:",y);(async()=>{try{const t=Object(p.c)(y,"connection_test"),a=await Object(p.a)(t,{test:!0,timestamp:(new Date).toISOString()});console.log("Firebase connection verified. Test document written:",a.id)}catch(e){console.error("FIREBASE CONNECTION ERROR:",e),alert("Firebase connection error: "+e.message)}})();const E=Object(n.createContext)(),v=e=>{let{children:t}=e;const[a,l]=Object(n.useState)(null),[o,i]=Object(n.useState)(null),[s,d]=Object(n.useState)(null),[m,u]=Object(n.useState)(!0),g=async e=>{console.log("Fetching user data for:",e);const t=await Object(p.f)(Object(p.e)(y,"users",e));if(t.exists()){const a=t.data();if(console.log("User data found:",a),i(a.userType),a.profileCompleted){const t=Object(p.e)(y,`${a.userType}Profiles`,e),n=await Object(p.f)(t);n.exists()&&(d(n.data()),console.log("User profile loaded:",n.data()))}return a}return console.log("No user data found"),null};Object(n.useEffect)(()=>{return console.log("Setting up auth state listener"),Object(c.c)(b,async e=>{console.log("Auth state changed:",null===e||void 0===e?void 0:e.uid),l(e),e?await g(e.uid):(i(null),d(null)),u(!1)})},[]);const x={currentUser:a,userType:o,userProfile:s,signup:async(e,t,a)=>{console.log("Signing up:",e,a);const n=(await Object(c.a)(b,e,t)).user;return console.log("User created:",n.uid),await Object(p.l)(Object(p.e)(y,"users",n.uid),{email:e,userType:a,createdAt:(new Date).toISOString(),profileCompleted:!1}),i(a),n},login:async(e,t)=>{console.log("Logging in:",e);const a=await Object(c.e)(b,e,t);return console.log("Login successful",a.user.uid),a},logout:async()=>(console.log("Logging out"),await Object(c.f)(b)),resetPassword:e=>Object(c.d)(b,e),fetchUserData:g};return r.a.createElement(E.Provider,{value:x},!m&&t)};var f=e=>{let{children:t}=e;const{currentUser:a}=Object(n.useContext)(E);return a?t:r.a.createElement(s.a,{to:"/login"})};var h=()=>{const{currentUser:e,logout:t,userType:a}=Object(n.useContext)(E),l=Object(s.q)(),o=(e,t)=>{if("/"===window.location.pathname){t.preventDefault();const a=document.getElementById(e);a&&a.scrollIntoView({behavior:"smooth"})}};return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement("nav",null,r.a.createElement("div",{className:"logo",onClick:()=>{"/"!==window.location.pathname?l("/"):window.scrollTo({top:0,behavior:"smooth"})},style:{cursor:"pointer"}},"Synked"),r.a.createElement("ul",{className:"nav-links"},r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",onClick:e=>o("features",e)},"Features")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",onClick:e=>o("how-it-works",e)},"How It Works")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/",onClick:e=>o("testimonials",e)},"Success Stories")),"company"!==a&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/projects"},"Browse Projects")),e?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"student"===a?"/student/dashboard":"/company/dashboard",className:"btn btn-outline"},"Dashboard")),r.a.createElement("li",null,r.a.createElement("button",{onClick:async()=>{try{await t(),l("/")}catch(e){console.error("Failed to log out",e)}},className:"btn btn-primary"},"Log Out"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login",className:"btn btn-outline"},"Log In")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register",className:"btn btn-primary"},"Sign Up Free")))))))};var j=()=>{const{currentUser:e,userType:t}=Object(n.useContext)(E);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("section",{className:"hero"},r.a.createElement("div",{className:"container",style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap"}},r.a.createElement("div",{className:"hero-content"},r.a.createElement("div",{className:"feature-badge"},"Student-Company Collaboration Platform"),r.a.createElement("h1",null,"Where Talent Meets Opportunity"),r.a.createElement("p",null,"Connect ambitious students with companies for impactful projects. Build portfolios, gain experience, and create real business value."),r.a.createElement("div",{className:"hero-buttons"},r.a.createElement(i.b,{to:"/register?type=company",className:"btn btn-primary"},"For Companies"),r.a.createElement(i.b,{to:"/register?type=student",className:"btn btn-outline"},"For Students"))),r.a.createElement("div",{className:"hero-image"},"        ",r.a.createElement("img",{src:"https://d92mrp7hetgfk.cloudfront.net/images/sites/misc/su-home-hero-image-m/original.png",alt:"Synked platform"})))),r.a.createElement("section",{className:"features",id:"features"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section-header"},r.a.createElement("div",{className:"feature-badge"},"Benefits"),r.a.createElement("h2",null,"Transforming Work Experience"),r.a.createElement("p",null,"Our platform bridges the gap between academic learning and professional experience.")),r.a.createElement("div",{className:"feature-grid"},r.a.createElement("div",{className:"feature-card"},r.a.createElement("div",{className:"feature-icon"},"\ud83d\udcbc"),r.a.createElement("h3",null,"For Companies"),r.a.createElement("p",null,"Tap into a pool of motivated students with fresh perspectives. Complete projects affordably while discovering future talent for your organization.")),r.a.createElement("div",{className:"feature-card"},r.a.createElement("div",{className:"feature-icon"},"\ud83c\udf93"),r.a.createElement("h3",null,"For Students"),r.a.createElement("p",null,"Build a standout portfolio with real-world projects. Gain valuable experience, develop professional skills, and make meaningful connections.")),r.a.createElement("div",{className:"feature-card"},r.a.createElement("div",{className:"feature-icon"},"\ud83e\udd1d"),r.a.createElement("h3",null,"Smart Matching"),r.a.createElement("p",null,"Our intelligent matching system connects the right students with the right projects based on skills, interests, availability, and career goals."))))),r.a.createElement("section",{className:"how-it-works",id:"how-it-works"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section-header"},r.a.createElement("div",{className:"feature-badge"},"Process"),r.a.createElement("h2",null,"Simple and Effective"),r.a.createElement("p",null,"Four easy steps to connect talent with opportunity")),r.a.createElement("div",{className:"steps"},r.a.createElement("div",{className:"step-line"}),r.a.createElement("div",{className:"step"},r.a.createElement("div",{className:"step-number"},"1"),r.a.createElement("h3",null,"Post a Project"),r.a.createElement("p",null,"Companies describe their needs, timeline, and compensation")),r.a.createElement("div",{className:"step"},r.a.createElement("div",{className:"step-number"},"2"),r.a.createElement("h3",null,"Get Matched"),r.a.createElement("p",null,"Our system connects projects with qualified students")),r.a.createElement("div",{className:"step"},r.a.createElement("div",{className:"step-number"},"3"),r.a.createElement("h3",null,"Collaborate"),r.a.createElement("p",null,"Work together through our platform with integrated tools")),r.a.createElement("div",{className:"step"},r.a.createElement("div",{className:"step-number"},"4"),r.a.createElement("h3",null,"Complete & Review"),r.a.createElement("p",null,"Finish the project and provide feedback for future opportunities"))))),r.a.createElement("section",{className:"testimonials",id:"testimonials"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"section-header"},r.a.createElement("div",{className:"feature-badge"},"Testimonials"),r.a.createElement("h2",null,"Success Stories"),r.a.createElement("p",null,"Real experiences from our community of companies and students")),r.a.createElement("div",{className:"testimonial-grid"},r.a.createElement("div",{className:"testimonial-card"},r.a.createElement("p",{className:"testimonial-text"},'"We needed help with our digital marketing strategy but couldn\'t afford an agency. The marketing students we connected with delivered incredible value and fresh ideas that transformed our approach."'),r.a.createElement("div",{className:"testimonial-author"},r.a.createElement("div",{className:"author-image"},"SJ"),r.a.createElement("div",{className:"author-details"},r.a.createElement("h4",null,"Sarah Johnson"),r.a.createElement("p",null,"Founder, EcoTech Solutions")))),r.a.createElement("div",{className:"testimonial-card"},r.a.createElement("p",{className:"testimonial-text"},'"The web development project I completed through Synked became the centerpiece of my portfolio. It directly led to my internship at a major tech company and gave me confidence in my abilities."'),r.a.createElement("div",{className:"testimonial-author"},r.a.createElement("div",{className:"author-image"},"JK"),r.a.createElement("div",{className:"author-details"},r.a.createElement("h4",null,"Jason Kim"),r.a.createElement("p",null,"Computer Science Student")))),r.a.createElement("div",{className:"testimonial-card"},r.a.createElement("p",{className:"testimonial-text"},'"Our startup saved thousands in development costs while providing valuable experience to talented students. The quality of work exceeded our expectations, and we\'ve even hired two students full-time!"'),r.a.createElement("div",{className:"testimonial-author"},r.a.createElement("div",{className:"author-image"},"MR"),r.a.createElement("div",{className:"author-details"},r.a.createElement("h4",null,"Michael Rodriguez"),r.a.createElement("p",null,"CTO, FinNext Solutions"))))))),r.a.createElement("section",{className:"cta"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Ready to Bridge the Gap?"),r.a.createElement("p",null,"Join our community today and start connecting with opportunities that transform careers and businesses."),r.a.createElement("div",{className:"cta-buttons"},r.a.createElement(i.b,{to:e&&"company"===t?"/post-project":"/register?type=company",className:"btn btn-white",onClick:()=>setTimeout(()=>window.scrollTo(0,0),100)},"Post a Project"),r.a.createElement(i.b,{to:e&&"student"===t?"/student/dashboard":"/register?type=student",className:"btn btn-white-outline"},"Join as a Student")))),r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"footer-content"},r.a.createElement("div",{className:"footer-column"},r.a.createElement("div",{className:"footer-logo"},"Synked"),r.a.createElement("p",null,"Connecting talented students with companies for impactful project experiences that benefit everyone."),r.a.createElement("div",{className:"social-links"},r.a.createElement("a",{href:"#",className:"social-link"},"f"),r.a.createElement("a",{href:"#",className:"social-link"},"in"),r.a.createElement("a",{href:"#",className:"social-link"},"\ud83d\udc26"),r.a.createElement("a",{href:"#",className:"social-link"},"\ud83d\udcf7"))),r.a.createElement("div",{className:"footer-column"},r.a.createElement("h3",null,"For Companies"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/#how-it-works"},"How It Works")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/pricing"},"Pricing Plans")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/post-project"},"Post a Project")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/#testimonials"},"Success Stories")))),r.a.createElement("div",{className:"footer-column"},r.a.createElement("h3",null,"For Students"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/projects"},"Browse Projects")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/create-profile"},"Create Profile")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/skills-assessment"},"Skills Assessment")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/resources"},"Learning Resources")))),r.a.createElement("div",{className:"footer-column"},r.a.createElement("h3",null,"Company"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/about"},"About Us")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/blog"},"Blog")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/careers"},"Careers")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/contact"},"Contact Us")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/support"},"Support"))))),r.a.createElement("div",{className:"footer-bottom"},r.a.createElement("p",null,"\xa9 2025 Synked. All rights reserved.")))))};var w=()=>{var e;const[t,a]=Object(n.useState)(""),[l,o]=Object(n.useState)(""),[c,d]=Object(n.useState)(""),[p,m]=Object(n.useState)(!1),{login:u}=Object(n.useContext)(E),g=Object(s.q)(),b=(null===(e=Object(s.o)().state)||void 0===e?void 0:e.from)||"/";return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{maxWidth:"500px",margin:"80px auto",padding:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",borderRadius:"16px"}},r.a.createElement("h2",{style:{textAlign:"center",marginBottom:"30px"}},"Log In to Your Account"),c&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"20px",padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"8px"}},c),r.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{d(""),m(!0),console.log("Attempting to log in with:",t),await u(t,l),console.log("Login successful, navigating to:",b),g(b)}catch(c){console.error("Login error:",c),d("Failed to log in: "+c.message),m(!1)}}},r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Email Address"),r.a.createElement("input",{type:"email",value:t,onChange:e=>a(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Password"),r.a.createElement("input",{type:"password",value:l,onChange:e=>o(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})),r.a.createElement("button",{type:"submit",disabled:p,className:"btn btn-primary",style:{width:"100%",marginTop:"10px"}},p?"Logging In...":"Log In")),r.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},"Don't have an account? ",r.a.createElement(i.b,{to:"/register",style:{color:"var(--primary)",textDecoration:"none"}},"Sign Up"))))};var O=()=>{const e=Object(s.o)(),t=new URLSearchParams(e.search).get("type")||"student",[a,l]=Object(n.useState)(""),[o,c]=Object(n.useState)(""),[d,p]=Object(n.useState)(""),[m,u]=Object(n.useState)(t),[g,b]=Object(n.useState)(""),[y,x]=Object(n.useState)(!1),{signup:v}=Object(n.useContext)(E),f=Object(s.q)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{maxWidth:"500px",margin:"80px auto",padding:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",borderRadius:"16px"}},r.a.createElement("h2",{style:{textAlign:"center",marginBottom:"30px"}},"Create Your Synked Account"),g&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"20px",padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"8px"}},g),r.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),o!==d)return b("Passwords do not match");try{b(""),x(!0),await v(a,o,m),f("/create-profile")}catch(g){b("Failed to create an account: "+g.message)}x(!1)}},r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Account Type"),r.a.createElement("div",{style:{display:"flex",gap:"20px"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"}},r.a.createElement("input",{type:"radio",value:"student",checked:"student"===m,onChange:()=>u("student"),style:{marginRight:"8px"}}),"Student"),r.a.createElement("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"}},r.a.createElement("input",{type:"radio",value:"company",checked:"company"===m,onChange:()=>u("company"),style:{marginRight:"8px"}}),"Company"))),r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Email Address"),r.a.createElement("input",{type:"email",value:a,onChange:e=>l(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Password"),r.a.createElement("input",{type:"password",value:o,onChange:e=>c(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Confirm Password"),r.a.createElement("input",{type:"password",value:d,onChange:e=>p(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})),r.a.createElement("button",{type:"submit",disabled:y,className:"btn btn-primary",style:{width:"100%",marginTop:"10px"}},y?"Creating Account...":"Create Account")),r.a.createElement("div",{style:{textAlign:"center",marginTop:"20px"}},"Already have an account?"," ",r.a.createElement(i.b,{to:"/login",style:{color:"var(--primary)",textDecoration:"none"}},"Log In"))))};var S=()=>{const{currentUser:e}=Object(n.useContext)(E),t=Object(s.q)(),[a,l]=Object(n.useState)(null),[o,c]=Object(n.useState)([]),[d,m]=Object(n.useState)([]),[u,g]=Object(n.useState)([]),[b,x]=Object(n.useState)(!0),[v,f]=Object(n.useState)(""),[j,w]=Object(n.useState)("projects");Object(n.useEffect)(()=>{e&&(async()=>{try{x(!0);const t=(await Object(p.f)(Object(p.e)(y,"users",e.uid))).data(),a=await Object(p.f)(Object(p.e)(y,"studentProfiles",e.uid));a.exists()&&l({id:a.id,...a.data(),profileCompleted:!0===(null===t||void 0===t?void 0:t.profileCompleted)});const n=Object(p.j)(Object(p.c)(y,"projects"),Object(p.n)("enrolledStudents","array-contains",e.uid)),r=await Object(p.g)(n),o=[];for(const l of r.docs){const t={id:l.id,...l.data()},a=await Object(p.f)(Object(p.e)(y,"companyProfiles",t.companyId));a.exists()&&(t.company={id:a.id,...a.data()});const n=Object(p.j)(Object(p.c)(y,"deliverables"),Object(p.n)("projectId","==",l.id)),r=(await Object(p.g)(n)).docs.map(e=>({id:e.id,...e.data()})),i=Object(p.j)(Object(p.c)(y,"submissions"),Object(p.n)("projectId","==",l.id),Object(p.n)("studentId","==",e.uid)),s=(await Object(p.g)(i)).docs.map(e=>({id:e.id,...e.data()})),c=r.length,d=s.filter(e=>"approved"===e.status).length,m=c>0?Math.round(d/c*100):0;t.progress=m,t.deliverables=r,t.submissions=s,o.push(t)}c(o);const i=Object(p.j)(Object(p.c)(y,"applications"),Object(p.n)("studentId","==",e.uid),Object(p.i)("appliedAt","desc")),s=await Object(p.g)(i),d=[];for(const e of s.docs){const t={id:e.id,...e.data()};if(t.projectId){const e=await Object(p.f)(Object(p.e)(y,"projects",t.projectId));if(e.exists()&&(t.project={id:e.id,...e.data()},t.project.companyId)){const e=await Object(p.f)(Object(p.e)(y,"companyProfiles",t.project.companyId));e.exists()&&(t.company={id:e.id,...e.data()})}}d.push(t)}m(d);const u=[];for(const e of o){const t=e.deliverables.filter(e=>"pending"===e.status||"in-progress"===e.status||"rejected"===e.status);for(const a of t)u.push({...a,project:{id:e.id,title:e.title,company:e.company}})}u.sort((e,t)=>e.dueDate&&t.dueDate?(e.dueDate.seconds?new Date(1e3*e.dueDate.seconds):new Date(e.dueDate))-(t.dueDate.seconds?new Date(1e3*t.dueDate.seconds):new Date(t.dueDate)):0),g(u),x(!1)}catch(v){console.error("Error fetching student data:",v),f(v.message),x(!1)}})()},[e]);const O=e=>{if(!e)return"No date set";try{return e.seconds?new Date(1e3*e.seconds).toLocaleDateString():new Date(e).toLocaleDateString()}catch(t){return e}},S=e=>{switch(e){case"accepted":case"completed":case"approved":return"success";case"in-progress":case"submitted":return"primary";case"pending":return"warning";case"rejected":return"danger";default:return""}};if(b)return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0",textAlign:"center"}},r.a.createElement("div",null,"Loading your dashboard...")));if(v)return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0",textAlign:"center"}},r.a.createElement("div",{style:{color:"var(--danger)"}},v)));const k=(null===a||void 0===a?void 0:a.profileCompleted)||a&&a.firstName&&a.lastName&&a.university&&a.major;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"40px 0"}},!k&&r.a.createElement("div",{style:{background:"rgba(251, 191, 36, 0.1)",color:"var(--warning)",padding:"15px 20px",borderRadius:"8px",marginBottom:"30px",display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("strong",null,"Complete your profile")," - Add your details to increase your chances of getting selected for projects"),r.a.createElement(i.b,{to:"/create-profile",className:"btn btn-primary",style:{whiteSpace:"nowrap"}},"Complete Profile")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"}},r.a.createElement("h2",null,"Student Dashboard"),r.a.createElement(i.b,{to:"/projects",className:"btn btn-primary"},"Browse Projects")),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"}},r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Active Projects"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px",color:"var(--primary)"}},o.length),r.a.createElement("div",null,o.length>0?r.a.createElement("span",null,"Projects in progress"):r.a.createElement(i.b,{to:"/projects",style:{color:"var(--primary)",textDecoration:"none"}},"Browse open projects"))),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Pending Applications"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px",color:"var(--primary)"}},d.filter(e=>"pending"===e.status).length),r.a.createElement("div",null,"Applications awaiting review")),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Upcoming Deliverables"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px",color:"var(--primary)"}},u.length),r.a.createElement("div",null,"Tasks to complete")),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Profile Completion"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px",color:"var(--primary)"}},k?"100%":"50%"),r.a.createElement("div",null,k?r.a.createElement("span",null,"Your profile is complete"):r.a.createElement(i.b,{to:"/create-profile",style:{color:"var(--primary)",textDecoration:"none"}},"Complete your profile")))),r.a.createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee",marginBottom:"30px"}},r.a.createElement("button",{onClick:()=>w("projects"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"projects"===j?"3px solid var(--primary)":"none",fontWeight:"projects"===j?"600":"400",color:"projects"===j?"var(--primary)":"inherit"}},"My Projects"),r.a.createElement("button",{onClick:()=>w("applications"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"applications"===j?"3px solid var(--primary)":"none",fontWeight:"applications"===j?"600":"400",color:"applications"===j?"var(--primary)":"inherit"}},"Applications"),r.a.createElement("button",{onClick:()=>w("deliverables"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"deliverables"===j?"3px solid var(--primary)":"none",fontWeight:"deliverables"===j?"600":"400",color:"deliverables"===j?"var(--primary)":"inherit"}},"Upcoming Deliverables")),"projects"===j&&r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"20px"}},"Active Projects"),0===o.length?r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",textAlign:"center"}},r.a.createElement("p",{style:{marginBottom:"20px"}},"You don't have any active projects yet."),r.a.createElement(i.b,{to:"/projects",className:"btn btn-primary"},"Browse Available Projects")):r.a.createElement("div",{className:"feature-grid"},o.map(e=>{var a;return r.a.createElement("div",{key:e.id,className:"feature-card",style:{cursor:"pointer"},onClick:()=>t(`/student/project/${e.id}`)},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("div",{className:"feature-badge"},e.category),r.a.createElement("div",null,r.a.createElement("strong",null,e.progress,"%")," Complete")),r.a.createElement("h3",null,e.title),r.a.createElement("div",{style:{height:"8px",background:"#f1f5f9",borderRadius:"4px",overflow:"hidden",margin:"15px 0"}},r.a.createElement("div",{style:{height:"100%",width:`${e.progress}%`,background:"linear-gradient(to right, var(--gradient-start), var(--gradient-end))",borderRadius:"4px",transition:"width 0.5s ease"}})),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Company:"),r.a.createElement("span",null,(null===(a=e.company)||void 0===a?void 0:a.companyName)||"Company")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Deliverables:"),r.a.createElement("span",null,e.deliverables.length)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Completed:"),r.a.createElement("span",null,e.submissions.filter(e=>"approved"===e.status).length," / ",e.deliverables.length))),r.a.createElement("button",{className:"btn btn-primary",style:{width:"100%"}},"Go to Project"))}))),"applications"===j&&r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"20px"}},"My Applications"),0===d.length?r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",textAlign:"center"}},r.a.createElement("p",{style:{marginBottom:"20px"}},"You haven't applied to any projects yet."),r.a.createElement(i.b,{to:"/projects",className:"btn btn-primary"},"Browse Available Projects")):r.a.createElement("div",{style:{display:"grid",gap:"20px"}},d.map(e=>{var t,a,n,l,o,s;return r.a.createElement("div",{key:e.id,style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"15px"}},r.a.createElement("div",{style:{flex:"1"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},(null===(t=e.project)||void 0===t?void 0:t.title)||e.projectTitle),r.a.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap",marginBottom:"10px"}},r.a.createElement("div",{className:"feature-badge"},(null===(a=e.project)||void 0===a?void 0:a.category)||"Project"),r.a.createElement("div",{className:`feature-badge ${S(e.status)}`},(e=>{switch(e){case"pending":return"Under Review";case"accepted":return"Accepted";case"rejected":return"Not Selected";default:return e}})(e.status))),r.a.createElement("div",{style:{fontSize:"14px",color:"#666"}},r.a.createElement("strong",null,"Company:")," ",(null===(n=e.company)||void 0===n?void 0:n.companyName)||(null===(l=e.project)||void 0===l?void 0:null===(o=l.company)||void 0===o?void 0:o.companyName)||"Company"),r.a.createElement("div",{style:{fontSize:"14px",color:"#666"}},r.a.createElement("strong",null,"Applied:")," ",O(e.appliedAt))),r.a.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"}},"accepted"===e.status&&r.a.createElement(i.b,{to:`/student/project/${e.projectId}`,className:"btn btn-primary"},"Go to Project"),(null===(s=e.project)||void 0===s?void 0:s.id)&&"pending"===e.status&&r.a.createElement(i.b,{to:`/projects/${e.project.id}`,className:"btn btn-outline"},"View Listing")))}))),"deliverables"===j&&r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"20px"}},"Upcoming Deliverables"),0===u.length?r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",textAlign:"center"}},r.a.createElement("p",null,"You don't have any pending deliverables.")):r.a.createElement("div",{style:{display:"grid",gap:"20px"}},u.map(e=>{var t,a;const n=(null===(t=e.dueDate)||void 0===t?void 0:t.seconds)?new Date(1e3*e.dueDate.seconds):new Date(e.dueDate),l=new Date,o=Math.ceil((n-l)/864e5);return r.a.createElement("div",{key:e.id,style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",borderLeft:o<=3?"4px solid var(--danger)":o<=7?"4px solid var(--warning)":"4px solid var(--primary)"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"10px",marginBottom:"15px"}},r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"5px"}},e.title),r.a.createElement("div",{style:{fontSize:"14px",color:"#666"}},e.project.title," - ",(null===(a=e.project.company)||void 0===a?void 0:a.companyName)||"Company")),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("div",{className:`feature-badge ${o<=3?"danger":o<=7?"warning":"primary"}`},o<=0?"Due Today":1===o?"1 Day Left":`${o} Days Left`),r.a.createElement("div",{style:{fontSize:"14px",color:"#666",marginTop:"5px"}},"Due: ",O(e.dueDate)))),r.a.createElement("p",{style:{marginBottom:"20px"}},e.description),r.a.createElement(i.b,{to:`/student/project/${e.project.id}`,className:"btn btn-primary",style:{width:"100%"}},"Go to Project"))})))))};const k=async e=>{try{const a=await Object(p.f)(Object(p.e)(y,"companyProfiles",e));if(!a.exists())throw new Error("Company profile not found");return a.data()}catch(t){throw new Error("Failed to fetch company profile: "+t.message)}};var N=e=>{var t;let{application:a,isOpen:l,onClose:o,onUpdate:i}=e;const[s,c]=Object(n.useState)(null),[d,m]=Object(n.useState)(!0),[u,g]=Object(n.useState)(a.status),[b,x]=Object(n.useState)(""),[E,v]=Object(n.useState)(!1);Object(n.useEffect)(()=>{const e=async()=>{try{const t=await(async e=>{try{const a=await Object(p.f)(Object(p.e)(y,"studentProfiles",e));if(!a.exists())throw new Error("Student profile not found");return a.data()}catch(t){throw new Error("Failed to fetch student profile: "+t.message)}})(a.studentId);c(t),m(!1)}catch(e){console.error("Error fetching student:",e),m(!1)}};a.studentId&&e()},[a.studentId]);return l?r.a.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},r.a.createElement("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"16px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"}},r.a.createElement("h2",{style:{marginBottom:"20px"}},"Application Details"),d?r.a.createElement("p",null,"Loading student information..."):s?r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("h3",null,"Student Information"),r.a.createElement("div",{style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",marginTop:"10px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",s.fullName),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:")," ",s.email),r.a.createElement("p",null,r.a.createElement("strong",null,"Education:")," ",s.education),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("strong",null,"Skills:"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"5px",marginTop:"5px"}},null===(t=s.skills)||void 0===t?void 0:t.map(e=>r.a.createElement("span",{key:e,className:"feature-badge",style:{fontSize:"12px"}},e)))))):r.a.createElement("p",null,"Student information not available"),r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("h3",null,"Application Details"),r.a.createElement("div",{style:{background:"#f8fafc",padding:"15px",borderRadius:"8px",marginTop:"10px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Project:")," ",a.projectTitle),r.a.createElement("p",null,r.a.createElement("strong",null,"Applied on:")," ",new Date(a.appliedAt).toLocaleDateString()),r.a.createElement("p",null,r.a.createElement("strong",null,"Cover Letter:")),r.a.createElement("p",{style:{whiteSpace:"pre-wrap",marginTop:"5px"}},a.coverLetter),a.applicationAnswer&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{marginTop:"15px"}},r.a.createElement("strong",null,"Application Answer:")),r.a.createElement("p",{style:{whiteSpace:"pre-wrap",marginTop:"5px"}},a.applicationAnswer)),r.a.createElement("p",{style:{marginTop:"15px"}},r.a.createElement("strong",null,"Availability:")," ",a.availability))),a.videoUrl&&r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("h3",null,"Video Introduction"),r.a.createElement("video",{controls:!0,style:{width:"100%",borderRadius:"8px",marginTop:"10px"},src:a.videoUrl},"Your browser does not support the video tag.")),r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("h3",null,"Update Status"),r.a.createElement("div",{style:{display:"flex",gap:"15px",marginTop:"10px"}},r.a.createElement("select",{value:u,onChange:e=>g(e.target.value),style:{padding:"8px",borderRadius:"8px",border:"1px solid #ddd",flex:"1"}},r.a.createElement("option",{value:"pending"},"Pending"),r.a.createElement("option",{value:"accepted"},"Accepted"),r.a.createElement("option",{value:"rejected"},"Rejected"))),r.a.createElement("textarea",{placeholder:"Add feedback for the student (optional)",value:b,onChange:e=>x(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",marginTop:"15px",minHeight:"100px"}})),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"15px"}},r.a.createElement("button",{onClick:o,className:"btn btn-outline",style:{padding:"10px 20px"}},"Close"),r.a.createElement("button",{onClick:async()=>{v(!0);try{const t=Object(p.e)(y,"applications",a.id);await Object(p.m)(t,{status:u,feedback:b,lastUpdated:(new Date).toISOString()}),i(),o()}catch(e){console.error("Error updating application:",e),alert("Failed to update application")}finally{v(!1)}},disabled:E,className:"btn btn-primary",style:{padding:"10px 20px"}},E?"Updating...":"Update Status")))):null};var B=()=>{const{currentUser:e}=Object(n.useContext)(E),[t,a]=Object(n.useState)([]),[l,o]=Object(n.useState)([]),[s,c]=Object(n.useState)(!0),[d,m]=Object(n.useState)(""),[u,g]=Object(n.useState)(null),[b,x]=Object(n.useState)(!1),v=async()=>{if(e)try{console.log("Fetching data for company:",e.uid);const t=Object(p.j)(Object(p.c)(y,"projects"),Object(p.n)("companyId","==",e.uid)),n=await Object(p.g)(t);console.log("Found projects:",n.docs.length);const r=n.docs.map(e=>{const t=e.data();return console.log("Project data:",{id:e.id,...t}),{id:e.id,...t}});r.sort((e,t)=>{var a,n;const r=(null===(a=e.createdAt)||void 0===a?void 0:a.seconds)||0;return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)||0)-r}),a(r);const l=Object(p.j)(Object(p.c)(y,"applications"),Object(p.n)("companyId","==",e.uid)),i=(await Object(p.g)(l)).docs.map(e=>({id:e.id,...e.data()}));i.sort((e,t)=>{var a,n;const r=(null===(a=e.createdAt)||void 0===a?void 0:a.seconds)||0;return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)||0)-r}),o(i),c(!1)}catch(d){console.error("Detailed error:",d),m("Failed to load dashboard data: "+d.message),c(!1)}};Object(n.useEffect)(()=>{v()},[e]);const f=e=>{g(e),x(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0"}},r.a.createElement("div",{className:"section-header"},r.a.createElement("h2",null,"Company Dashboard"),r.a.createElement("p",null,"Manage your projects and applications")),d&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"20px",padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"8px"}},d),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"40px",marginBottom:"30px"}},r.a.createElement("h3",null,"Your Projects"),r.a.createElement(i.b,{to:"/post-project",className:"btn btn-primary"},"Post New Project")),s?r.a.createElement("div",{style:{textAlign:"center",padding:"50px 0"}},"Loading dashboard..."):0===t.length?r.a.createElement("div",{style:{textAlign:"center",padding:"50px 0"}},r.a.createElement("p",null,"You haven't posted any projects yet."),r.a.createElement(i.b,{to:"/post-project",className:"btn btn-primary",style:{marginTop:"20px"}},"Post Your First Project")):r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginTop:"20px"}},t.map(e=>{var n;return r.a.createElement("div",{key:e.id,className:"feature-card",style:{position:"relative"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"15px"}},r.a.createElement("h4",{style:{flex:"1",marginRight:"10px"}},e.title),r.a.createElement("button",{onClick:()=>(async(e,n)=>{try{const r="open"===n?"closed":"open",l=Object(p.e)(y,"projects",e);await Object(p.m)(l,{status:r}),a(t.map(t=>t.id===e?{...t,status:r}:t))}catch(d){console.error("Error updating project status:",d),m("Failed to update project status")}})(e.id,e.status),className:"btn",style:{padding:"5px 15px",fontSize:"14px",background:"open"===e.status?"var(--warning)":"var(--success)",color:"white",border:"none",borderRadius:"20px"}},"open"===e.status?"Close Project":"Reopen Project")),r.a.createElement("div",{className:"feature-badge",style:{marginBottom:"10px"}},e.category),r.a.createElement("p",{style:{marginBottom:"10px"}},e.description.slice(0,100),"..."),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px"}},r.a.createElement("span",{className:"feature-badge",style:{background:"open"===e.status?"rgba(34, 197, 94, 0.1)":"rgba(251, 191, 36, 0.1)",color:"open"===e.status?"var(--success)":"var(--warning)"}},"open"===e.status?"Active":"Closed"),r.a.createElement("span",{className:"feature-badge"},"Applications: ",(null===(n=e.applicants)||void 0===n?void 0:n.length)||0)),r.a.createElement(i.b,{to:`/projects/${e.id}`,className:"btn btn-outline",style:{marginTop:"15px",width:"100%",textAlign:"center"}},"View Details"))})),r.a.createElement("div",{style:{marginTop:"60px"}},r.a.createElement("h3",null,"Recent Applications"),0===l.length?r.a.createElement("p",{style:{marginTop:"20px"}},"No applications yet"):r.a.createElement("div",{style:{display:"grid",gap:"20px",marginTop:"20px"}},l.map(e=>r.a.createElement("div",{key:e.id,style:{background:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 5px 15px rgba(0,0,0,0.05)"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},r.a.createElement("div",null,r.a.createElement("h4",{style:{marginBottom:"5px"}},"Project: ",e.projectTitle),r.a.createElement("p",{style:{color:"#666",fontSize:"14px"}},"Applied on: ",e.appliedAt?new Date(e.appliedAt).toLocaleDateString():"N/A")),r.a.createElement("span",{className:"feature-badge",style:{background:"pending"===e.status?"rgba(108, 99, 255, 0.1)":"accepted"===e.status?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",color:"pending"===e.status?"var(--primary)":"accepted"===e.status?"var(--success)":"var(--danger)"}},e.status)),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("p",null,r.a.createElement("strong",null,"Applicant Availability:")," ",e.availability),e.applicationAnswer&&r.a.createElement("p",null,r.a.createElement("strong",null,"Answer:")," ",e.applicationAnswer.slice(0,100),"...")),r.a.createElement("div",{style:{marginTop:"10px",display:"flex",gap:"10px"}},r.a.createElement("button",{onClick:()=>f(e),className:"btn btn-outline"},"View Application"),e.videoUrl&&r.a.createElement("button",{onClick:()=>f(e),className:"btn btn-outline"},"View Video"))))))),u&&r.a.createElement(N,{application:u,isOpen:b,onClose:()=>{x(!1),g(null)},onUpdate:()=>{v()}}))};var C=e=>{let{project:t}=e;const[a,l]=Object(n.useState)(null),[o,s]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{t.companyId&&(async()=>{try{const a=await k(t.companyId);l(a),s(!1)}catch(e){console.error("Error fetching company:",e),s(!1)}})()},[t.companyId]),r.a.createElement("div",{className:"feature-card"},r.a.createElement("div",{className:"feature-badge"},t.category),r.a.createElement("h3",null,t.title),r.a.createElement("p",null,t.description.slice(0,150),"..."),o?r.a.createElement("div",{style:{margin:"15px 0",color:"#666"}},"Loading company info..."):a&&r.a.createElement("div",{style:{margin:"15px 0",padding:"10px",background:"#f8fafc",borderRadius:"8px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},r.a.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",background:"var(--secondary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px"}},a.companyName?a.companyName.charAt(0):"C"),r.a.createElement("div",null,r.a.createElement("div",{style:{fontWeight:"500",fontSize:"14px"}},a.companyName||"Company"),r.a.createElement("div",{style:{fontSize:"12px",color:"#666"}},a.industry||"Industry")))),r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement("span",{className:"feature-badge",style:{marginRight:"10px"}},t.duration),r.a.createElement("span",{className:"feature-badge",style:{backgroundColor:"open"===t.status?"rgba(34, 197, 94, 0.1)":"rgba(251, 191, 36, 0.1)",color:"open"===t.status?"var(--success)":"var(--warning)"}},"open"===t.status?"Active":"Closed"),r.a.createElement("span",{className:"feature-badge"},t.compensation?`$${t.compensation}`:"Experience Only")),r.a.createElement(i.b,{to:`/projects/${t.id}`,className:"btn btn-outline",style:{marginTop:"20px"}},"View Details"))};var D=()=>{const[e,t]=Object(n.useState)([]),[a,l]=Object(n.useState)(!0),[o,i]=Object(n.useState)("all"),[s,c]=Object(n.useState)(""),[d,m]=Object(n.useState)("");Object(n.useEffect)(()=>{(async()=>{try{const e=Object(p.c)(y,"projects");console.log("Fetching projects from collection:",e.path);const a=await Object(p.g)(e);console.log("Projects collection exists:",!a.empty),console.log("Number of documents found:",a.size);let n=a.docs.map(e=>(console.log("Document ID:",e.id,"Document data:",e.data()),{id:e.id,...e.data()}));console.log("Query returned:",n.length,"documents"),"all"!==o&&(n=n.filter(e=>e.category===o)),n.sort((e,t)=>{var a,n;const r=(null===(a=e.createdAt)||void 0===a?void 0:a.seconds)?new Date(1e3*e.createdAt.seconds):new Date(e.createdAt);return((null===(n=t.createdAt)||void 0===n?void 0:n.seconds)?new Date(1e3*t.createdAt.seconds):new Date(t.createdAt))-r});const r=s?n.filter(e=>e.title.toLowerCase().includes(s.toLowerCase())||e.description.toLowerCase().includes(s.toLowerCase())):n;console.log("Final filtered projects:",r.length),t(r),l(!1)}catch(d){console.error("Error fetching projects:",d),l(!1)}})()},[o,s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"80px 0"}},r.a.createElement("div",{className:"section-header"},r.a.createElement("div",{className:"feature-badge"},"Explore Opportunities"),r.a.createElement("h2",null,"Available Projects"),r.a.createElement("p",null,"Find the perfect project to enhance your skills and build your portfolio")),r.a.createElement("div",{style:{margin:"40px 0",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"20px"}},r.a.createElement("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"}},["all","Web Development","Mobile App","UI/UX Design","Marketing","Data Analysis","Content Creation"].map(e=>r.a.createElement("button",{key:e,onClick:()=>i(e),className:`btn ${o===e?"btn-primary":"btn-outline"}`,style:{textTransform:"capitalize"}},e))),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Search projects...",value:s,onChange:e=>c(e.target.value),style:{padding:"12px 20px",borderRadius:"50px",border:"1px solid #ddd",width:"300px"}}))),d&&r.a.createElement("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"var(--danger)",padding:"15px",borderRadius:"8px",marginBottom:"20px"}},"Error: ",d),a?r.a.createElement("div",{style:{textAlign:"center",padding:"50px 0"}},"Loading projects..."):0===e.length?r.a.createElement("div",{style:{textAlign:"center",padding:"50px 0"}},"No projects found. Please try a different filter or search term."):r.a.createElement("div",{className:"feature-grid"},e.map(e=>r.a.createElement(C,{key:e.id,project:e})))))};var R=e=>{let{userId:t,projectId:a,onVideoReady:l}=e;const[o,i]=Object(n.useState)(!1),[s,c]=Object(n.useState)(null),[d,p]=Object(n.useState)(!1),[u,g]=Object(n.useState)(""),[b,y]=Object(n.useState)(0),E=Object(n.useRef)(null),v=Object(n.useRef)(null),f=Object(n.useRef)(null),h=Object(n.useRef)(null);Object(n.useEffect)(()=>()=>{f.current&&f.current.getTracks().forEach(e=>e.stop()),h.current&&clearInterval(h.current)},[]);const j=()=>{v.current&&o&&(v.current.stop(),i(!1),h.current&&clearInterval(h.current))},w=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return r.a.createElement("div",{style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Video Introduction (Required)"),u&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"8px",padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"8px"}},u),r.a.createElement("div",{style:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",marginBottom:"15px",backgroundColor:"#f8fafc"}},r.a.createElement("video",{ref:E,autoPlay:!0,muted:!0,style:{width:"100%",borderRadius:"8px",backgroundColor:"#000",maxHeight:"300px"}}),o&&r.a.createElement("div",{style:{textAlign:"center",marginTop:"10px",color:"var(--danger)",fontWeight:"500"}},"Recording: ",w(b)," / ",w(120))),r.a.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"}},!o&&!s&&r.a.createElement("button",{onClick:async()=>{try{g("");const t=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});f.current=t,E.current.srcObject=t;const a=new MediaRecorder(t);v.current=a;const n=[];a.ondataavailable=(e=>n.push(e.data)),a.onstop=(()=>{const e=new Blob(n,{type:"video/webm"});c(e),t.getTracks().forEach(e=>e.stop())}),a.start(),i(!0),y(0),h.current=setInterval(()=>{y(e=>e>=120?(j(),e):e+1)},1e3)}catch(e){g("Camera access denied or not available"),console.error("Error accessing camera:",e)}},className:"btn btn-primary",style:{flex:"1"}},"Start Recording"),o&&r.a.createElement("button",{onClick:j,className:"btn btn-warning",style:{flex:"1"}},"Stop Recording"),s&&!d&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:()=>c(null),className:"btn btn-outline",style:{flex:"1"}},"Record Again"),r.a.createElement("button",{onClick:async()=>{if(s){p(!0);try{const n=`applications/${t}/${a}/video_${Date.now()}.webm`,r=Object(m.c)(x,n);await Object(m.d)(r,s);const o=await Object(m.a)(r);l(o)}catch(e){g("Failed to upload video"),console.error("Error uploading video:",e)}finally{p(!1)}}},className:"btn btn-primary",style:{flex:"1"}},"Save Video")),d&&r.a.createElement("button",{disabled:!0,className:"btn btn-primary",style:{flex:"1"}},"Uploading...")),r.a.createElement("p",{style:{fontSize:"14px",color:"#666"}},"Record a 2-minute introduction. Introduce yourself and explain why you're a good fit for this project."))};var I=()=>{var e,t,a;const{id:l}=Object(s.s)(),{currentUser:o,userType:c}=Object(n.useContext)(E),d=Object(s.q)(),[u,g]=Object(n.useState)(null),[b,v]=Object(n.useState)(null),[f,j]=Object(n.useState)(!0),[w,O]=Object(n.useState)(""),[S,N]=Object(n.useState)(!1),[B,C]=Object(n.useState)(""),[D,I]=Object(n.useState)(""),[A,T]=Object(n.useState)(""),[W,P]=Object(n.useState)(null),[F,z]=Object(n.useState)(""),[L,q]=Object(n.useState)(!1),[$,U]=Object(n.useState)(""),[M,Y]=Object(n.useState)(!1),[H,V]=Object(n.useState)(!1);Object(n.useEffect)(()=>{(async()=>{try{const e=await(async e=>{console.log("Getting project by ID:",e);try{const t=await Object(p.f)(Object(p.e)(y,"projects",e));if(!t.exists())throw console.log("Project not found"),new Error("Project not found");return console.log("Project found:",t.data()),{id:t.id,...t.data()}}catch(w){throw console.error("Error fetching project:",w),new Error("Failed to fetch project: "+w.message)}})(l);g(e);const t=await k(e.companyId);v(t),j(!1)}catch(w){O("Error fetching project: "+w.message),j(!1)}})()},[l]);const J=o&&u&&"company"===c&&u.companyId===o.uid;return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0"}},f?r.a.createElement("div",{style:{textAlign:"center",padding:"50px 0"}},"Loading project details..."):w?r.a.createElement("div",{style:{textAlign:"center",padding:"50px 0",color:"var(--danger)"}},w):r.a.createElement("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap"}},r.a.createElement("div",{style:{flex:"1",minWidth:"60%"}},r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{className:"feature-badge",style:{marginBottom:"15px"}},u.category),r.a.createElement("h2",{style:{marginBottom:"15px"}},u.title),r.a.createElement("div",{style:{display:"flex",gap:"10px",marginBottom:"20px",flexWrap:"wrap"}},r.a.createElement("span",{className:"feature-badge"},u.duration),r.a.createElement("span",{className:"feature-badge",style:{background:"open"===u.status?"rgba(34, 197, 94, 0.1)":"rgba(251, 191, 36, 0.1)",color:"open"===u.status?"var(--success)":"var(--warning)"}},"open"===u.status?"Open for Applications":"Applications Closed"),r.a.createElement("span",{className:"feature-badge"},u.isExperienceOnly?"Experience Only":`$${u.compensation}`))),r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"15px"}},"Project Description"),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},u.description)),r.a.createElement("div",{style:{marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"15px"}},"Required Skills"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"}},null===(e=u.skills)||void 0===e?void 0:e.map(e=>r.a.createElement("span",{key:e,className:"feature-badge"},e)))),!J&&"student"===c&&r.a.createElement("div",{style:{marginTop:"30px"}},H?r.a.createElement("div",{style:{padding:"20px",borderRadius:"8px",background:"rgba(34, 197, 94, 0.1)",color:"var(--success)",marginBottom:"20px"}},r.a.createElement("h4",{style:{marginBottom:"10px"}},"Application Submitted!"),r.a.createElement("p",null,"Your application has been successfully submitted. The company will review it and respond soon.")):(()=>{var e;return!(!o||!u)&&(null===(e=u.applicants)||void 0===e?void 0:e.some(e=>e.studentId===o.uid))})()?r.a.createElement("div",{style:{padding:"20px",borderRadius:"8px",background:"rgba(108, 99, 255, 0.1)",marginBottom:"20px"}},r.a.createElement("h4",{style:{marginBottom:"10px"}},"Already Applied"),r.a.createElement("p",null,"You have already applied to this project. Check your dashboard for application status.")):"open"!==u.status?r.a.createElement("div",{style:{padding:"20px",borderRadius:"8px",background:"rgba(251, 191, 36, 0.1)",marginBottom:"20px"}},r.a.createElement("h4",{style:{marginBottom:"10px"}},"Project Closed"),r.a.createElement("p",null,"This project is no longer accepting applications.")):r.a.createElement("button",{onClick:()=>N(!S),className:"btn btn-primary",style:{width:"100%",padding:"15px"}},S?"Cancel Application":"Apply for this Project"),S&&r.a.createElement("div",{style:{marginTop:"30px"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Submit Your Application"),r.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),o)try{Y(!0);let e=F;if(W){q(!0);const t=Object(m.c)(x,`applications/${o.uid}/${u.id}/video_${Date.now()}`),a=await Object(m.d)(t,W);e=await Object(m.a)(a.ref),q(!1)}const t={projectId:l,projectTitle:u.title,studentId:o.uid,coverLetter:B,availability:D,companyId:u.companyId,appliedAt:(new Date).toISOString(),applicationAnswer:A,videoUrl:e,status:"pending"};await(async e=>{try{return(await Object(p.a)(Object(p.c)(y,"applications"),{...e,status:"pending",createdAt:Object(p.k)(),lastUpdated:Object(p.k)()})).id}catch(w){throw new Error("Failed to create application: "+w.message)}})(t);const a=Object(p.e)(y,"projects",l);await Object(p.m)(a,{applicants:Object(p.b)(t)}),V(!0),N(!1),Y(!1)}catch(w){O("Failed to submit application: "+w.message),Y(!1)}else d("/login",{state:{from:`/projects/${l}`}})}},(null===(t=u.applicationRequirements)||void 0===t?void 0:t.question)&&r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Application Question"),r.a.createElement("p",{style:{marginBottom:"8px",color:"#555"}},u.applicationRequirements.question),r.a.createElement("textarea",{value:A,onChange:e=>T(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"150px"},placeholder:"Your answer..."})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Cover Letter"),r.a.createElement("textarea",{value:B,onChange:e=>C(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"200px"},placeholder:"Introduce yourself and explain why you're a good fit for this project..."})),(null===(a=u.applicationRequirements)||void 0===a?void 0:a.requireVideoIntro)&&r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement(R,{userId:o.uid,projectId:l,onVideoReady:e=>{z(e),P(null),U("")}}),r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement("p",{style:{marginBottom:"8px",fontWeight:"500"}},"Or upload a video file:"),$&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"8px"}},$),r.a.createElement("input",{type:"file",accept:"video/*",onChange:e=>{const t=e.target.files[0];t&&t.type.startsWith("video/")?t.size>52428800?(U("Video file must be less than 50MB"),P(null)):(P(t),U("")):(U("Please upload a valid video file"),P(null))},style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}}),W&&r.a.createElement("div",{style:{marginTop:"8px",color:"var(--success)"}},"Video file selected: ",W.name),F&&r.a.createElement("div",{style:{marginTop:"8px",color:"var(--success)"}},"Video recorded successfully"))),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Your Availability"),r.a.createElement("input",{type:"text",value:D,onChange:e=>I(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. 15-20 hours per week, evenings and weekends"})),r.a.createElement("button",{type:"submit",disabled:M||L,className:"btn btn-primary",style:{width:"100%",padding:"15px"}},L?"Uploading Video...":M?"Submitting Application...":"Submit Application")))),J&&r.a.createElement("div",{style:{marginTop:"30px",display:"flex",gap:"15px"}},r.a.createElement(i.b,{to:"/company/dashboard",className:"btn btn-outline",style:{flex:"1",padding:"15px",textAlign:"center"}},"Back to Dashboard"),r.a.createElement("button",{className:"btn btn-primary",style:{flex:"1",padding:"15px"},onClick:()=>d(`/company/project/${u.id}`)},"Manage Applications")))),r.a.createElement("div",{style:{flex:"0 0 300px"}},r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"15px"}},"About the Company"),r.a.createElement("div",{style:{marginBottom:"20px",display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"var(--secondary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",marginRight:"15px"}},(null===b||void 0===b?void 0:b.companyName)?b.companyName.charAt(0):"C"),r.a.createElement("div",null,r.a.createElement("h4",null,(null===b||void 0===b?void 0:b.companyName)||"Company"),r.a.createElement("p",{style:{fontSize:"14px",color:"#666"}},(null===b||void 0===b?void 0:b.industry)||"Industry"))),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("p",null,(null===b||void 0===b?void 0:b.companyDescription)||"No company description available.")),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Location:"),r.a.createElement("span",null,(null===b||void 0===b?void 0:b.location)||"Not specified")),r.a.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center",marginBottom:"10px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Size:"),r.a.createElement("span",null,(null===b||void 0===b?void 0:b.companySize)||"Not specified")),r.a.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Website:"),r.a.createElement("a",{href:null===b||void 0===b?void 0:b.companyWebsite,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--primary)",textDecoration:"none"}},(null===b||void 0===b?void 0:b.companyWebsite)?"Visit Website":"Not available")))),r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"15px"}},"Project Details"),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Posted On:"),r.a.createElement("span",null,(e=>e?e.seconds?new Date(1e3*e.seconds).toLocaleDateString():new Date(e).toLocaleDateString():"N/A")(u.createdAt))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Duration:"),r.a.createElement("span",null,u.duration)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Compensation:"),r.a.createElement("span",null,u.isExperienceOnly?"Experience Only":`$${u.compensation}`)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Status:"),r.a.createElement("span",{style:{color:"open"===u.status?"var(--success)":"var(--warning)"}},"open"===u.status?"Open for Applications":"Applications Closed"))),!o&&r.a.createElement(i.b,{to:"/login",className:"btn btn-primary",style:{width:"100%"}},"Log In to Apply"))))))};var A=()=>{const{currentUser:e,userType:t}=Object(n.useContext)(E),a=Object(s.q)(),[l,o]=Object(n.useState)(""),[i,c]=Object(n.useState)(""),[d,m]=Object(n.useState)(""),[u,g]=Object(n.useState)(""),[b,x]=Object(n.useState)(""),[v,f]=Object(n.useState)(""),[j,w]=Object(n.useState)(""),[O,S]=Object(n.useState)(""),[k,N]=Object(n.useState)(""),[B,C]=Object(n.useState)(""),[D,R]=Object(n.useState)(""),[I,A]=Object(n.useState)(""),[T,W]=Object(n.useState)(""),[P,F]=Object(n.useState)(""),[z,L]=Object(n.useState)(""),[q,$]=Object(n.useState)(!1),[U,M]=Object(n.useState)("");return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{maxWidth:"800px",margin:"60px auto",padding:"40px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",borderRadius:"16px"}},r.a.createElement("div",{className:"section-header",style:{textAlign:"left",marginBottom:"40px"}},r.a.createElement("div",{className:"feature-badge"},"student"===t?"Student Profile":"Company Profile"),r.a.createElement("h2",null,"Complete Your Profile"),r.a.createElement("p",null,"student"===t?"Tell companies about your skills and experience":"Share your company details with potential talent")),U&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"20px",padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"8px"}},U),r.a.createElement("form",{onSubmit:async n=>{n.preventDefault();try{$(!0),M("");const n="student"===t?{fullName:l,email:e.email,bio:i,education:d,skills:u.split(",").map(e=>e.trim()),portfolioUrl:b,linkedinUrl:v,githubUrl:j,createdAt:(new Date).toISOString()}:{companyName:O,contactName:k,email:e.email,companyDescription:B,industry:D,location:I,companySize:T,companyWebsite:P,contactEmail:z,createdAt:(new Date).toISOString()},r="student"===t?"studentProfiles":"companyProfiles";await Object(p.l)(Object(p.e)(y,r,e.uid),n),Object(p.e)(y,"users",e.uid),await Object(p.m)(Object(p.e)(y,"users",e.uid),{profileCompleted:!0}),a("student"===t?"/student/dashboard":"/company/dashboard")}catch(U){M("Failed to create profile: "+U.message),$(!1)}}},"student"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Full Name"),r.a.createElement("input",{type:"text",value:l,onChange:e=>o(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Enter your full name"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Bio"),r.a.createElement("textarea",{value:i,onChange:e=>c(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"120px"},placeholder:"Tell us about yourself..."})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Education"),r.a.createElement("input",{type:"text",value:d,onChange:e=>m(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. Computer Science, University Name"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Skills (comma separated)"),r.a.createElement("input",{type:"text",value:u,onChange:e=>g(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. React, JavaScript, Python"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Portfolio URL"),r.a.createElement("input",{type:"url",value:b,onChange:e=>x(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Your portfolio website"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"LinkedIn URL"),r.a.createElement("input",{type:"url",value:v,onChange:e=>f(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Your LinkedIn profile"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"GitHub URL"),r.a.createElement("input",{type:"url",value:j,onChange:e=>w(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Your GitHub profile"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Company Name"),r.a.createElement("input",{type:"text",value:O,onChange:e=>S(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Your company name"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Contact Person Name"),r.a.createElement("input",{type:"text",value:k,onChange:e=>N(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Your name"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Company Description"),r.a.createElement("textarea",{value:B,onChange:e=>C(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"120px"},placeholder:"Tell us about your company..."})),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"25px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Industry"),r.a.createElement("select",{value:D,onChange:e=>R(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}},r.a.createElement("option",{value:""},"Select industry"),["Technology","Healthcare","Finance","Education","E-commerce","Marketing","Consulting","Manufacturing","Other"].map(e=>r.a.createElement("option",{key:e,value:e},e)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Company Size"),r.a.createElement("select",{value:T,onChange:e=>W(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}},r.a.createElement("option",{value:""},"Select size"),["1-10 employees","11-50 employees","51-200 employees","201-500 employees","501+ employees"].map(e=>r.a.createElement("option",{key:e,value:e},e))))),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Location"),r.a.createElement("input",{type:"text",value:I,onChange:e=>A(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"City, Country"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Company Website"),r.a.createElement("input",{type:"url",value:P,onChange:e=>F(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"https://www.company.com"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Contact Email"),r.a.createElement("input",{type:"email",value:z,onChange:e=>L(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"contact@company.com"}))),r.a.createElement("button",{type:"submit",disabled:q,className:"btn btn-primary",style:{width:"100%",marginTop:"20px",padding:"15px"}},q?"Creating Profile...":"Complete Profile")))):r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{textAlign:"center",padding:"50px 0"}},r.a.createElement("p",null,"Loading profile type...")))};var T=()=>{const{currentUser:e}=Object(n.useContext)(E),t=Object(s.q)(),[a,l]=Object(n.useState)(""),[o,i]=Object(n.useState)(""),[c,d]=Object(n.useState)("Web Development"),[m,u]=Object(n.useState)(""),[g,b]=Object(n.useState)("1-2 weeks"),[x,v]=Object(n.useState)(""),[f,j]=Object(n.useState)(!1),[w,O]=Object(n.useState)(""),[S,k]=Object(n.useState)(!1),[N,B]=Object(n.useState)(!1),[C,D]=Object(n.useState)("");return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{maxWidth:"800px",margin:"60px auto",padding:"40px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",borderRadius:"16px"}},r.a.createElement("div",{className:"section-header",style:{textAlign:"left",marginBottom:"40px"}},r.a.createElement("div",{className:"feature-badge"},"Create Project"),r.a.createElement("h2",null,"Post a New Project"),r.a.createElement("p",null,"Share your project details and find the perfect student match")),C&&r.a.createElement("div",{style:{color:"var(--danger)",marginBottom:"20px",padding:"10px",backgroundColor:"rgba(239, 68, 68, 0.1)",borderRadius:"8px"}},C),r.a.createElement("form",{onSubmit:async n=>{n.preventDefault();try{B(!0),D("");const n=m.split(",").map(e=>e.trim()),r={title:a,description:o,category:c,skills:n,duration:g,compensation:f?null:parseFloat(x),isExperienceOnly:f,companyId:e.uid,status:"open",createdAt:Object(p.k)(),applicants:[],applicationRequirements:{question:w,requireVideoIntro:S}};await Object(p.a)(Object(p.c)(y,"projects"),r),t("/company/dashboard")}catch(C){D("Failed to post project: "+C.message),B(!1)}}},r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Project Title"),r.a.createElement("input",{type:"text",value:a,onChange:e=>l(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. E-commerce Website Development"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Project Description"),r.a.createElement("textarea",{value:o,onChange:e=>i(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"150px"},placeholder:"Describe the project, goals, and deliverables in detail"})),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"25px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Category"),r.a.createElement("select",{value:c,onChange:e=>d(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}},["Web Development","Mobile App","UI/UX Design","Marketing","Data Analysis","Content Creation","Other"].map(e=>r.a.createElement("option",{key:e,value:e},e)))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Duration"),r.a.createElement("select",{value:g,onChange:e=>b(e.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}},["1-2 weeks","2-4 weeks","1-2 months","3+ months"].map(e=>r.a.createElement("option",{key:e,value:e},e))))),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Required Skills (comma separated)"),r.a.createElement("input",{type:"text",value:m,onChange:e=>u(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. React, JavaScript, Firebase"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"}},r.a.createElement("input",{type:"checkbox",checked:f,onChange:e=>j(e.target.checked),style:{marginRight:"10px"}}),"This is an experience-only project (no financial compensation)")),!f&&r.a.createElement("div",{className:"form-group",style:{marginBottom:"25px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Compensation Amount ($)"),r.a.createElement("input",{type:"number",value:x,onChange:e=>v(e.target.value),required:!f,min:"0",step:"0.01",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"Enter amount in USD"})),r.a.createElement("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"8px",marginBottom:"25px"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Application Requirements"),r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Application Question"),r.a.createElement("input",{type:"text",value:w,onChange:e=>O(e.target.value),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. What experience do you have with React development?"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"20px"}},r.a.createElement("label",{style:{display:"flex",alignItems:"center",cursor:"pointer"}},r.a.createElement("input",{type:"checkbox",checked:S,onChange:e=>k(e.target.checked),style:{marginRight:"10px"}}),"Require video introduction (2 minute max)"))),r.a.createElement("button",{type:"submit",disabled:N,className:"btn btn-primary",style:{width:"100%",marginTop:"20px",padding:"15px"}},N?"Posting Project...":"Post Project"))))};var W=()=>{const{projectId:e}=Object(s.s)(),{currentUser:t}=Object(n.useContext)(E),a=Object(s.q)(),[l,o]=Object(n.useState)(null),[i,c]=Object(n.useState)(null),[d,u]=Object(n.useState)([]),[g,b]=Object(n.useState)(null),[v,f]=Object(n.useState)(!0),[j,w]=Object(n.useState)(""),[O,S]=Object(n.useState)([]),[k,N]=Object(n.useState)(""),[B,C]=Object(n.useState)({content:"",file:null}),[D,R]=Object(n.useState)(!1),[I,A]=Object(n.useState)([]);Object(n.useEffect)(()=>{e&&t&&(async()=>{try{f(!0);const t=await Object(p.f)(Object(p.e)(y,"projects",e));if(!t.exists())throw new Error("Project not found");const a={id:t.id,...t.data()};o(a);const n=await Object(p.f)(Object(p.e)(y,"companyProfiles",a.companyId));n.exists()&&c({id:n.id,...n.data()});const r=Object(p.j)(Object(p.c)(y,"deliverables"),Object(p.n)("projectId","==",e)),l=(await Object(p.g)(r)).docs.map(e=>({id:e.id,...e.data()}));l.sort((e,t)=>e.dueDate&&t.dueDate?new Date(e.dueDate)-new Date(t.dueDate):0),u(l);const i=l.find(e=>"pending"===e.status||"in-progress"===e.status)||l[0];b(i);const s=Object(p.j)(Object(p.c)(y,"messages"),Object(p.n)("projectId","==",e)),d=(await Object(p.g)(s)).docs.map(e=>({id:e.id,...e.data()}));d.sort((e,t)=>e.timestamp&&t.timestamp?(e.timestamp.seconds?1e3*e.timestamp.seconds:new Date(e.timestamp).getTime())-(t.timestamp.seconds?1e3*t.timestamp.seconds:new Date(t.timestamp).getTime()):0),S(d);const m=Object(p.j)(Object(p.c)(y,"activities"),Object(p.n)("projectId","==",e)),g=(await Object(p.g)(m)).docs.map(e=>({id:e.id,...e.data()}));g.sort((e,t)=>{if(e.timestamp&&t.timestamp){const a=e.timestamp.seconds?1e3*e.timestamp.seconds:new Date(e.timestamp).getTime();return(t.timestamp.seconds?1e3*t.timestamp.seconds:new Date(t.timestamp).getTime())-a}return 0}),A(g),f(!1)}catch(j){console.error("Error fetching project data:",j),w(j.message),f(!1)}})()},[e,t]);const T=()=>{if(!d.length)return 0;const e=d.filter(e=>"completed"===e.status||"approved"===e.status).length;return Math.round(e/d.length*100)},W=e=>{if(!e)return"No date set";try{return e.seconds?new Date(1e3*e.seconds).toLocaleDateString():new Date(e).toLocaleDateString()}catch(t){return e}},P=e=>{switch(e){case"completed":case"approved":return"success";case"in-progress":case"submitted":return"primary";case"pending":return"warning";case"rejected":return"danger";default:return""}};return v?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0",textAlign:"center"}},r.a.createElement("div",null,"Loading project portal..."))):j?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0",textAlign:"center"}},r.a.createElement("div",{style:{color:"var(--danger)"}},j),r.a.createElement("button",{onClick:()=>a("/student/dashboard"),className:"btn btn-primary",style:{marginTop:"20px"}},"Back to Dashboard"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"40px 0"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"}},r.a.createElement("div",null,r.a.createElement("h2",{style:{marginBottom:"5px"}},null===l||void 0===l?void 0:l.title),r.a.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},r.a.createElement("span",{className:"feature-badge"},null===l||void 0===l?void 0:l.category),r.a.createElement("span",null,"With ",(null===i||void 0===i?void 0:i.companyName)||"Company"))),r.a.createElement("button",{onClick:()=>a("/student/dashboard"),className:"btn btn-outline"},"Back to Dashboard")),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},r.a.createElement("h3",{style:{margin:0}},"Project Progress"),r.a.createElement("span",null,T(),"% Complete")),r.a.createElement("div",{style:{height:"8px",background:"#f1f5f9",borderRadius:"4px",overflow:"hidden"}},r.a.createElement("div",{style:{height:"100%",width:`${T()}%`,background:"linear-gradient(to right, var(--gradient-start), var(--gradient-end))",borderRadius:"4px",transition:"width 0.5s ease"}})),r.a.createElement("div",{style:{display:"flex",gap:"15px",marginTop:"20px",flexWrap:"wrap"}},r.a.createElement("div",{style:{flex:"1",minWidth:"120px",background:"rgba(34, 197, 94, 0.1)",color:"var(--success)",padding:"15px",borderRadius:"8px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"700"}},d.filter(e=>"completed"===e.status||"approved"===e.status).length),r.a.createElement("div",null,"Completed")),r.a.createElement("div",{style:{flex:"1",minWidth:"120px",background:"rgba(108, 99, 255, 0.1)",color:"var(--primary)",padding:"15px",borderRadius:"8px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"700"}},d.filter(e=>"in-progress"===e.status||"submitted"===e.status).length),r.a.createElement("div",null,"In Progress")),r.a.createElement("div",{style:{flex:"1",minWidth:"120px",background:"#f1f5f9",color:"var(--dark)",padding:"15px",borderRadius:"8px",textAlign:"center"}},r.a.createElement("div",{style:{fontSize:"24px",fontWeight:"700"}},d.filter(e=>"pending"===e.status).length),r.a.createElement("div",null,"Not Started")))),r.a.createElement("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap"}},r.a.createElement("div",{style:{flex:"1",minWidth:"300px"}},g&&r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"15px"}},"Current Deliverable"),r.a.createElement("div",{className:"feature-badge",style:{marginBottom:"10px"}},"pending"===g.status?"Not Started":"in-progress"===g.status?"In Progress":"submitted"===g.status?"Submitted":"completed"===g.status?"Completed":"approved"===g.status?"Approved":"rejected"===g.status?"Needs Revision":g.status),r.a.createElement("h4",{style:{marginBottom:"10px"}},g.title),r.a.createElement("p",{style:{marginBottom:"15px"}},g.description),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"}},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"500"}},"Due Date:")," ",W(g.dueDate)),r.a.createElement("div",{className:`feature-badge ${P(g.status)}`},g.status)),("pending"===g.status||"in-progress"===g.status||"rejected"===g.status)&&r.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),g)try{R(!0);let a="";if(B.file){const n=Object(m.c)(x,`submissions/${e}/${g.id}/${t.uid}_${Date.now()}_${B.file.name}`);await Object(m.d)(n,B.file),a=await Object(m.a)(n)}const n={deliverableId:g.id,projectId:e,studentId:t.uid,content:B.content,fileUrl:a||"",submittedAt:Object(p.k)(),status:"submitted",feedback:""};await Object(p.a)(Object(p.c)(y,"submissions"),n),await Object(p.m)(Object(p.e)(y,"deliverables",g.id),{status:"submitted",updatedAt:Object(p.k)()}),await Object(p.a)(Object(p.c)(y,"activities"),{projectId:e,userId:t.uid,userType:"student",activityType:"submission",content:`submitted deliverable: ${g.title}`,timestamp:Object(p.k)()}),C({content:"",file:null});const r={...g,status:"submitted"};b(r);const l=d.map(e=>e.id===g.id?r:e);u(l);const o=Object(p.j)(Object(p.c)(y,"activities"),Object(p.n)("projectId","==",e)),i=(await Object(p.g)(o)).docs.map(e=>({id:e.id,...e.data()}));i.sort((e,t)=>{if(e.timestamp&&t.timestamp){const a=e.timestamp.seconds?1e3*e.timestamp.seconds:new Date(e.timestamp).getTime();return(t.timestamp.seconds?1e3*t.timestamp.seconds:new Date(t.timestamp).getTime())-a}return 0}),A(i),R(!1)}catch(j){console.error("Error submitting deliverable:",j),R(!1)}}},r.a.createElement("div",{className:"form-group",style:{marginBottom:"15px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Submission Notes"),r.a.createElement("textarea",{value:B.content,onChange:e=>C({...B,content:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"100px"},placeholder:"Describe your submission or add any notes for your mentor..."})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"15px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Upload File (optional)"),r.a.createElement("input",{type:"file",onChange:e=>{e.target.files[0]&&C({...B,file:e.target.files[0]})},style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"8px"}})),r.a.createElement("button",{type:"submit",disabled:D,className:"btn btn-primary",style:{width:"100%"}},D?"Submitting...":"rejected"===g.status?"Resubmit Deliverable":"in-progress"===g.status?"Submit Deliverable":"Start & Submit Deliverable")),"submitted"===g.status&&r.a.createElement("div",{style:{padding:"15px",background:"rgba(108, 99, 255, 0.1)",borderRadius:"8px"}},r.a.createElement("p",null,"Your submission is under review. Check back later for feedback.")),("completed"===g.status||"approved"===g.status)&&r.a.createElement("div",{style:{padding:"15px",background:"rgba(34, 197, 94, 0.1)",borderRadius:"8px"}},r.a.createElement("p",{style:{fontWeight:"500",marginBottom:"5px"}},"Feedback:"),r.a.createElement("p",null,g.feedback||"No feedback provided yet."))),r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"All Deliverables"),0===d.length?r.a.createElement("p",null,"No deliverables have been assigned yet."):r.a.createElement("div",null,d.map((e,t)=>r.a.createElement("div",{key:e.id,style:{padding:"15px",border:(null===g||void 0===g?void 0:g.id)===e.id?"2px solid var(--primary)":"1px solid #f1f5f9",borderRadius:"8px",marginBottom:t<d.length-1?"15px":"0",cursor:"pointer",background:(null===g||void 0===g?void 0:g.id)===e.id?"rgba(108, 99, 255, 0.05)":"white"},onClick:()=>b(e)},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("span",{style:{fontWeight:"500"}},e.title),r.a.createElement("span",{className:`feature-badge ${P(e.status)}`,style:{fontSize:"12px",padding:"3px 8px"}},e.status)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#666"}},r.a.createElement("span",null,"Due: ",W(e.dueDate)),r.a.createElement("span",null,e.points," pts"))))))),r.a.createElement("div",{style:{flex:"1",minWidth:"300px"}},r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Messages"),r.a.createElement("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"20px",border:"1px solid #f1f5f9",borderRadius:"8px",padding:"15px"}},0===O.length?r.a.createElement("p",{style:{textAlign:"center",color:"#666"}},"No messages yet. Start a conversation with your mentor."):O.map(e=>r.a.createElement("div",{key:e.id,style:{marginBottom:"15px",display:"flex",flexDirection:"column",alignItems:"student"===e.senderType?"flex-end":"flex-start"}},r.a.createElement("div",{style:{background:"student"===e.senderType?"var(--primary)":"#f1f5f9",color:"student"===e.senderType?"white":"var(--dark)",padding:"10px 15px",borderRadius:"12px",maxWidth:"80%"}},e.content),r.a.createElement("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"}},e.timestamp?W(e.timestamp)+" "+new Date(1e3*e.timestamp.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now")))),r.a.createElement("form",{onSubmit:async a=>{if(a.preventDefault(),k.trim())try{const a={projectId:e,senderId:t.uid,senderType:"student",content:k,timestamp:Object(p.k)(),isRead:!1};await Object(p.a)(Object(p.c)(y,"messages"),a),await Object(p.a)(Object(p.c)(y,"activities"),{projectId:e,userId:t.uid,userType:"student",activityType:"message",content:"sent a message",timestamp:Object(p.k)()}),N("");const n=Object(p.j)(Object(p.c)(y,"messages"),Object(p.n)("projectId","==",e)),r=(await Object(p.g)(n)).docs.map(e=>({id:e.id,...e.data()}));r.sort((e,t)=>e.timestamp&&t.timestamp?(e.timestamp.seconds?1e3*e.timestamp.seconds:new Date(e.timestamp).getTime())-(t.timestamp.seconds?1e3*t.timestamp.seconds:new Date(t.timestamp).getTime()):0),S(r);const l=Object(p.j)(Object(p.c)(y,"activities"),Object(p.n)("projectId","==",e)),o=(await Object(p.g)(l)).docs.map(e=>({id:e.id,...e.data()}));o.sort((e,t)=>{if(e.timestamp&&t.timestamp){const a=e.timestamp.seconds?1e3*e.timestamp.seconds:new Date(e.timestamp).getTime();return(t.timestamp.seconds?1e3*t.timestamp.seconds:new Date(t.timestamp).getTime())-a}return 0}),A(o)}catch(j){console.error("Error sending message:",j)}}},r.a.createElement("div",{style:{display:"flex",gap:"10px"}},r.a.createElement("input",{type:"text",value:k,onChange:e=>N(e.target.value),placeholder:"Type a message to your mentor...",style:{flex:"1",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!k.trim()},"Send")))),r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Recent Activity"),0===I.length?r.a.createElement("p",null,"No recent activity."):r.a.createElement("div",null,I.slice(0,5).map(e=>r.a.createElement("div",{key:e.id,style:{padding:"12px",borderBottom:"1px solid #f1f5f9",display:"flex",alignItems:"center",gap:"10px"}},r.a.createElement("div",{style:{width:"30px",height:"30px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",background:"submission"===e.activityType?"rgba(34, 197, 94, 0.1)":"feedback"===e.activityType?"rgba(251, 191, 36, 0.1)":"message"===e.activityType?"rgba(108, 99, 255, 0.1)":"#f1f5f9",color:"submission"===e.activityType?"var(--success)":"feedback"===e.activityType?"var(--warning)":"message"===e.activityType?"var(--primary)":"var(--dark)"}},"submission"===e.activityType?"\ud83d\udcc4":"feedback"===e.activityType?"\u2713":"message"===e.activityType?"\ud83d\udcac":"\ud83d\udccc"),r.a.createElement("div",{style:{flex:"1"}},r.a.createElement("div",{style:{fontSize:"14px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"student"===e.userType?"You":(null===i||void 0===i?void 0:i.companyName)||"Mentor")," ",e.content),r.a.createElement("div",{style:{fontSize:"12px",color:"#666"}},e.timestamp?W(e.timestamp)+" "+new Date(1e3*e.timestamp.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now"))))))))))};var P=()=>{var e,t,a,l;const{projectId:o}=Object(s.s)(),{currentUser:i}=Object(n.useContext)(E),c=Object(s.q)(),[d,m]=Object(n.useState)(null),[u,g]=Object(n.useState)([]),[b,x]=Object(n.useState)([]),[v,f]=Object(n.useState)([]),[j,w]=Object(n.useState)(!0),[O,S]=Object(n.useState)(""),[k,N]=Object(n.useState)([]),[B,C]=Object(n.useState)([]),[D,R]=Object(n.useState)(null),[I,A]=Object(n.useState)({title:"",description:"",dueDate:"",points:10,status:"pending"}),[T,W]=Object(n.useState)(""),[P,F]=Object(n.useState)("overview"),[z,L]=Object(n.useState)(!1);Object(n.useEffect)(()=>{o&&i&&(async()=>{try{w(!0);const e=await Object(p.f)(Object(p.e)(y,"projects",o));if(!e.exists())throw new Error("Project not found");const t={id:e.id,...e.data()};m(t);const a=t.enrolledStudents||[];if(a.length>0){const e=[];for(const t of a){const a=await Object(p.f)(Object(p.e)(y,"studentProfiles",t));a.exists()&&e.push({id:a.id,...a.data()})}g(e),e.length>0&&!D&&R(e[0])}const n=Object(p.j)(Object(p.c)(y,"deliverables"),Object(p.n)("projectId","==",o)),r=(await Object(p.g)(n)).docs.map(e=>({id:e.id,...e.data()}));r.sort((e,t)=>e.dueDate&&t.dueDate?(e.dueDate.seconds?new Date(1e3*e.dueDate.seconds):new Date(e.dueDate))-(t.dueDate.seconds?new Date(1e3*t.dueDate.seconds):new Date(t.dueDate)):0),x(r);const l=Object(p.j)(Object(p.c)(y,"applications"),Object(p.n)("projectId","==",o),Object(p.n)("status","==","pending")),i=(await Object(p.g)(l)).docs.map(e=>({id:e.id,...e.data()})),s=await Promise.all(i.map(async e=>{const t=await Object(p.f)(Object(p.e)(y,"studentProfiles",e.studentId));return t.exists()?{...e,studentProfile:{id:t.id,...t.data()}}:e}));f(s),D&&await q(D.id),await $(),w(!1)}catch(O){console.error("Error fetching project data:",O),S(O.message),w(!1)}})()},[o,i,null===D||void 0===D?void 0:D.id]);const q=async e=>{try{const t=Object(p.j)(Object(p.c)(y,"messages"),Object(p.n)("projectId","==",o),Object(p.n)("participants","array-contains",e)),a=(await Object(p.g)(t)).docs.map(e=>({id:e.id,...e.data()}));a.sort((e,t)=>e.timestamp&&t.timestamp?(e.timestamp.seconds?1e3*e.timestamp.seconds:new Date(e.timestamp).getTime())-(t.timestamp.seconds?1e3*t.timestamp.seconds:new Date(t.timestamp).getTime()):0),N(a)}catch(O){console.error("Error fetching messages:",O)}},$=async()=>{try{const e=Object(p.j)(Object(p.c)(y,"submissions"),Object(p.n)("projectId","==",o)),t=(await Object(p.g)(e)).docs.map(e=>({id:e.id,...e.data()}));C(t)}catch(O){console.error("Error fetching submissions:",O)}},U=async(e,t,a)=>{try{var n;await Object(p.m)(Object(p.e)(y,"submissions",e.id),{feedback:t,status:a,updatedAt:Object(p.k)()});const r=e.deliverableId;await Object(p.m)(Object(p.e)(y,"deliverables",r),{status:"approved"===a?"completed":"rejected",feedback:t,updatedAt:Object(p.k)()}),await Object(p.a)(Object(p.c)(y,"activities"),{projectId:o,userId:i.uid,userType:"company",studentId:e.studentId,activityType:"feedback",content:`provided feedback on submission for ${(null===(n=b.find(e=>e.id===r))||void 0===n?void 0:n.title)||"deliverable"}`,timestamp:Object(p.k)()}),await $();const l=Object(p.j)(Object(p.c)(y,"deliverables"),Object(p.n)("projectId","==",o)),s=(await Object(p.g)(l)).docs.map(e=>({id:e.id,...e.data()}));x(s)}catch(O){console.error("Error providing feedback:",O)}},M=e=>{if(!e)return"No date set";try{return e.seconds?new Date(1e3*e.seconds).toLocaleDateString():new Date(e).toLocaleDateString()}catch(t){return e}},Y=e=>{if(!b.length)return 0;const t=(e=>B.filter(t=>t.studentId===e))(e).filter(e=>"approved"===e.status).length;return Math.round(t/b.length*100)},H=e=>{switch(e){case"completed":case"approved":return"success";case"in-progress":case"submitted":return"primary";case"pending":return"warning";case"rejected":return"danger";default:return""}};return j?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0",textAlign:"center"}},r.a.createElement("div",null,"Loading project management..."))):O?r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"60px 0",textAlign:"center"}},r.a.createElement("div",{style:{color:"var(--danger)"}},O),r.a.createElement("button",{onClick:()=>c("/company/dashboard"),className:"btn btn-primary",style:{marginTop:"20px"}},"Back to Dashboard"))):r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{className:"container",style:{padding:"40px 0"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"}},r.a.createElement("div",null,r.a.createElement("h2",{style:{marginBottom:"5px"}},null===d||void 0===d?void 0:d.title),r.a.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},r.a.createElement("span",{className:"feature-badge"},null===d||void 0===d?void 0:d.category),r.a.createElement("span",null,"Project Management"))),r.a.createElement("button",{onClick:()=>c("/company/dashboard"),className:"btn btn-outline"},"Back to Dashboard")),r.a.createElement("div",{style:{display:"flex",borderBottom:"1px solid #eee",marginBottom:"30px"}},r.a.createElement("button",{onClick:()=>F("overview"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"overview"===P?"3px solid var(--primary)":"none",fontWeight:"overview"===P?"600":"400",color:"overview"===P?"var(--primary)":"inherit"}},"Overview"),r.a.createElement("button",{onClick:()=>F("students"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"students"===P?"3px solid var(--primary)":"none",fontWeight:"students"===P?"600":"400",color:"students"===P?"var(--primary)":"inherit"}},"Students ",u.length>0&&`(${u.length})`),r.a.createElement("button",{onClick:()=>F("deliverables"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"deliverables"===P?"3px solid var(--primary)":"none",fontWeight:"deliverables"===P?"600":"400",color:"deliverables"===P?"var(--primary)":"inherit"}},"Deliverables ",b.length>0&&`(${b.length})`),r.a.createElement("button",{onClick:()=>F("applications"),style:{padding:"12px 20px",background:"none",border:"none",cursor:"pointer",borderBottom:"applications"===P?"3px solid var(--primary)":"none",fontWeight:"applications"===P?"600":"400",color:"applications"===P?"var(--primary)":"inherit"}},"Applications ",v.length>0&&`(${v.length})`)),"overview"===P&&r.a.createElement("div",null,r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px",marginBottom:"30px"}},r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Project Info"),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Status:")," ","open"===(null===d||void 0===d?void 0:d.status)?"Active":null===d||void 0===d?void 0:d.status),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Posted:")," ",M(null===d||void 0===d?void 0:d.createdAt)),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Duration:")," ",null===d||void 0===d?void 0:d.duration),r.a.createElement("div",null,r.a.createElement("strong",null,"Compensation:")," ",(null===d||void 0===d?void 0:d.isExperienceOnly)?"Experience Only":`${null===d||void 0===d?void 0:d.compensation}`)),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Students"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px"}},u.length),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Active:")," ",u.filter(e=>!0).length),r.a.createElement("button",{onClick:()=>F("students"),className:"btn btn-outline",style:{width:"100%",marginTop:"10px"}},"Manage Students")),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Deliverables"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px"}},b.length),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Completed:")," ",b.filter(e=>"completed"===e.status).length),r.a.createElement("button",{onClick:()=>F("deliverables"),className:"btn btn-outline",style:{width:"100%",marginTop:"10px"}},"Manage Deliverables")),r.a.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"10px"}},"Applications"),r.a.createElement("div",{style:{fontSize:"32px",fontWeight:"700",marginBottom:"10px"}},v.length),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Pending Review:")," ",v.length),r.a.createElement("button",{onClick:()=>F("applications"),className:"btn btn-outline",style:{width:"100%",marginTop:"10px"}},"Review Applications"))),r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Project Description"),r.a.createElement("p",{style:{whiteSpace:"pre-wrap"}},null===d||void 0===d?void 0:d.description),r.a.createElement("div",{style:{marginTop:"20px"}},r.a.createElement("h4",{style:{marginBottom:"10px"}},"Required Skills"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"}},null===d||void 0===d?void 0:null===(e=d.skills)||void 0===e?void 0:e.map(e=>r.a.createElement("span",{key:e,className:"feature-badge"},e))))),r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Recent Submissions"),0===B.length?r.a.createElement("p",null,"No submissions yet."):r.a.createElement("div",null,B.sort((e,t)=>{if(e.submittedAt&&t.submittedAt){const a=e.submittedAt.seconds?1e3*e.submittedAt.seconds:new Date(e.submittedAt).getTime();return(t.submittedAt.seconds?1e3*t.submittedAt.seconds:new Date(t.submittedAt).getTime())-a}return 0}).slice(0,5).map(e=>{const t=u.find(t=>t.id===e.studentId),a=b.find(t=>t.id===e.deliverableId);return r.a.createElement("div",{key:e.id,style:{padding:"15px",borderBottom:"1px solid #f1f5f9",display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center",justifyContent:"space-between"}},r.a.createElement("div",null,r.a.createElement("div",{style:{fontWeight:"500",marginBottom:"5px"}},t?`${t.firstName} ${t.lastName}`:"Student"," - ",(null===a||void 0===a?void 0:a.title)||"Deliverable"),r.a.createElement("div",{style:{fontSize:"14px",color:"#666"}},"Submitted on ",M(e.submittedAt))),r.a.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},r.a.createElement("span",{className:`feature-badge ${H(e.status)}`},e.status),r.a.createElement("button",{onClick:()=>{F("students"),R(t)},className:"btn btn-outline",style:{padding:"8px 12px",fontSize:"14px"}},"Review")))})))),"students"===P&&r.a.createElement("div",{style:{display:"flex",gap:"30px",flexWrap:"wrap"}},r.a.createElement("div",{style:{flex:"0 0 300px"}},r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Enrolled Students"),0===u.length?r.a.createElement("p",null,"No students enrolled yet."):r.a.createElement("div",null,u.map(e=>{var t,a;return r.a.createElement("div",{key:e.id,style:{padding:"15px",border:(null===D||void 0===D?void 0:D.id)===e.id?"2px solid var(--primary)":"1px solid #f1f5f9",borderRadius:"8px",marginBottom:"15px",cursor:"pointer",background:(null===D||void 0===D?void 0:D.id)===e.id?"rgba(108, 99, 255, 0.05)":"white",display:"flex",alignItems:"center",gap:"15px"},onClick:()=>R(e)},r.a.createElement("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"500"}},(null===(t=e.firstName)||void 0===t?void 0:t.charAt(0))||"S",(null===(a=e.lastName)||void 0===a?void 0:a.charAt(0))||""),r.a.createElement("div",{style:{flex:"1"}},r.a.createElement("div",{style:{fontWeight:"500"}},e.firstName," ",e.lastName),r.a.createElement("div",{style:{fontSize:"14px",color:"#666"}},"Progress: ",Y(e.id),"%")))})))),r.a.createElement("div",{style:{flex:"1",minWidth:"300px"}},D?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"20px"}},r.a.createElement("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",fontWeight:"500"}},(null===(t=D.firstName)||void 0===t?void 0:t.charAt(0))||"S",(null===(a=D.lastName)||void 0===a?void 0:a.charAt(0))||""),r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"5px"}},D.firstName," ",D.lastName),r.a.createElement("div",null,D.university||"Student"))),r.a.createElement("div",{style:{marginBottom:"20px"}},r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Email:")," ",D.email),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Major:")," ",D.major||"Not specified"),r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,"Year:")," ",D.year||"Not specified"),r.a.createElement("div",null,r.a.createElement("strong",null,"Skills:")," ",(null===(l=D.skills)||void 0===l?void 0:l.join(", "))||"None listed")),r.a.createElement("div",null,r.a.createElement("strong",null,"Bio:"),r.a.createElement("p",null,D.bio||"No bio provided"))),r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Progress"),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"}},r.a.createElement("span",null,"Overall Progress"),r.a.createElement("span",null,Y(D.id),"%")),r.a.createElement("div",{style:{height:"8px",background:"#f1f5f9",borderRadius:"4px",overflow:"hidden"}},r.a.createElement("div",{style:{height:"100%",width:`${Y(D.id)}%`,background:"linear-gradient(to right, var(--gradient-start), var(--gradient-end))",borderRadius:"4px",transition:"width 0.5s ease"}}))),r.a.createElement("h4",{style:{marginBottom:"15px",marginTop:"20px"}},"Deliverables"),b.map(e=>{const t=B.find(t=>t.deliverableId===e.id&&t.studentId===D.id);return r.a.createElement("div",{key:e.id,style:{padding:"15px",border:"1px solid #f1f5f9",borderRadius:"8px",marginBottom:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("span",{style:{fontWeight:"500"}},e.title),r.a.createElement("span",{className:`feature-badge ${H((null===t||void 0===t?void 0:t.status)||e.status)}`,style:{fontSize:"12px",padding:"3px 8px"}},(null===t||void 0===t?void 0:t.status)||e.status)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px",color:"#666"}},r.a.createElement("span",null,"Due: ",M(e.dueDate)),r.a.createElement("span",null,e.points," pts")),t&&r.a.createElement("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#f8fafc",borderRadius:"8px"}},r.a.createElement("div",{style:{fontSize:"14px",marginBottom:"5px"}},r.a.createElement("strong",null,"Submitted:")," ",M(t.submittedAt)),t.content&&r.a.createElement("div",{style:{fontSize:"14px",marginBottom:"5px"}},r.a.createElement("strong",null,"Notes:")," ",t.content),t.fileUrl&&r.a.createElement("div",{style:{fontSize:"14px",marginBottom:"5px"}},r.a.createElement("strong",null,"File:")," ",r.a.createElement("a",{href:t.fileUrl,target:"_blank",rel:"noopener noreferrer"},"View Submission")),"submitted"===t.status&&r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("textarea",{placeholder:"Provide feedback...",style:{width:"100%",padding:"8px",borderRadius:"8px",border:"1px solid #ddd",marginBottom:"10px"},rows:"3",id:`feedback-${t.id}`}),r.a.createElement("div",{style:{display:"flex",gap:"10px"}},r.a.createElement("button",{onClick:()=>{const e=document.getElementById(`feedback-${t.id}`).value;U(t,e,"approved")},className:"btn btn-primary",style:{flex:"1",padding:"8px"}},"Approve"),r.a.createElement("button",{onClick:()=>{const e=document.getElementById(`feedback-${t.id}`).value;U(t,e,"rejected")},className:"btn btn-outline",style:{flex:"1",padding:"8px"}},"Request Revisions"))),t.feedback&&r.a.createElement("div",{style:{fontSize:"14px",marginTop:"5px"}},r.a.createElement("strong",null,"Feedback:")," ",t.feedback)))})),r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"Messages"),r.a.createElement("div",{style:{maxHeight:"300px",overflowY:"auto",marginBottom:"20px",border:"1px solid #f1f5f9",borderRadius:"8px",padding:"15px"}},0===k.length?r.a.createElement("p",{style:{textAlign:"center",color:"#666"}},"No messages yet. Start a conversation with the student."):k.map(e=>r.a.createElement("div",{key:e.id,style:{marginBottom:"15px",display:"flex",flexDirection:"column",alignItems:"company"===e.senderType?"flex-end":"flex-start"}},r.a.createElement("div",{style:{background:"company"===e.senderType?"var(--primary)":"#f1f5f9",color:"company"===e.senderType?"white":"var(--dark)",padding:"10px 15px",borderRadius:"12px",maxWidth:"80%"}},e.content),r.a.createElement("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"}},e.timestamp?M(e.timestamp)+" "+new Date(1e3*e.timestamp.seconds).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Just now")))),r.a.createElement("form",{onSubmit:async e=>{if(e.preventDefault(),T.trim()&&D)try{const e={projectId:o,senderId:i.uid,senderType:"company",recipientId:D.id,participants:[i.uid,D.id],content:T,timestamp:Object(p.k)(),isRead:!1};await Object(p.a)(Object(p.c)(y,"messages"),e),await Object(p.a)(Object(p.c)(y,"activities"),{projectId:o,userId:i.uid,userType:"company",activityType:"message",content:`sent a message to ${D.firstName} ${D.lastName}`,timestamp:Object(p.k)()}),W(""),await q(D.id)}catch(O){console.error("Error sending message:",O)}}},r.a.createElement("div",{style:{display:"flex",gap:"10px"}},r.a.createElement("input",{type:"text",value:T,onChange:e=>W(e.target.value),placeholder:"Type a message to the student...",style:{flex:"1",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}}),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:!T.trim()},"Send"))))):r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",textAlign:"center"}},r.a.createElement("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px",fontSize:"24px",color:"#94a3b8"}},"\ud83d\udc64"),r.a.createElement("h3",{style:{marginBottom:"10px"}},"Select a Student"),r.a.createElement("p",null,"Click on a student from the list to view their details and progress.")))),"deliverables"===P&&r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"}},r.a.createElement("h3",null,"Project Deliverables"),r.a.createElement("button",{onClick:()=>L(!z),className:"btn btn-primary"},z?"Cancel":"Add Deliverable")),z&&r.a.createElement("div",{style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",marginBottom:"30px"}},r.a.createElement("h3",{style:{marginBottom:"20px"}},"New Deliverable"),r.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{const e={projectId:o,title:I.title,description:I.description,dueDate:I.dueDate?new Date(I.dueDate):null,points:parseInt(I.points)||10,status:"pending",createdAt:Object(p.k)(),feedback:""};await Object(p.a)(Object(p.c)(y,"deliverables"),e),await Object(p.a)(Object(p.c)(y,"activities"),{projectId:o,userId:i.uid,userType:"company",activityType:"deliverable",content:`added a new deliverable: ${I.title}`,timestamp:Object(p.k)()}),A({title:"",description:"",dueDate:"",points:10,status:"pending"}),L(!1);const t=Object(p.j)(Object(p.c)(y,"deliverables"),Object(p.n)("projectId","==",o)),a=(await Object(p.g)(t)).docs.map(e=>({id:e.id,...e.data()}));a.sort((e,t)=>e.dueDate&&t.dueDate?(e.dueDate.seconds?new Date(1e3*e.dueDate.seconds):new Date(e.dueDate))-(t.dueDate.seconds?new Date(1e3*t.dueDate.seconds):new Date(t.dueDate)):0),x(a)}catch(O){console.error("Error adding deliverable:",O)}}},r.a.createElement("div",{className:"form-group",style:{marginBottom:"15px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Title"),r.a.createElement("input",{type:"text",value:I.title,onChange:e=>A({...I,title:e.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"},placeholder:"E.g. Project Wireframes"})),r.a.createElement("div",{className:"form-group",style:{marginBottom:"15px"}},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Description"),r.a.createElement("textarea",{value:I.description,onChange:e=>A({...I,description:e.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"100px"},placeholder:"Describe what the student needs to do for this deliverable..."})),r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"15px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Due Date"),r.a.createElement("input",{type:"date",value:I.dueDate,onChange:e=>A({...I,dueDate:e.target.value}),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500"}},"Points"),r.a.createElement("input",{type:"number",value:I.points,onChange:e=>A({...I,points:e.target.value}),required:!0,min:"1",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd"}}))),r.a.createElement("button",{type:"submit",className:"btn btn-primary",style:{width:"100%"}},"Add Deliverable"))),0===b.length?r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",textAlign:"center"}},r.a.createElement("p",null,"No deliverables have been created yet."),r.a.createElement("button",{onClick:()=>L(!0),className:"btn btn-primary",style:{marginTop:"15px"}},"Create First Deliverable")):r.a.createElement("div",{className:"feature-grid"},b.map(e=>r.a.createElement("div",{key:e.id,className:"feature-card",style:{position:"relative"}},r.a.createElement("div",{style:{position:"absolute",top:"20px",right:"20px"}},r.a.createElement("span",{className:`feature-badge ${H(e.status)}`},e.status)),r.a.createElement("h3",null,e.title),r.a.createElement("p",null,e.description),r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Due Date:"),r.a.createElement("span",null,M(e.dueDate))),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Points:"),r.a.createElement("span",null,e.points))),r.a.createElement("div",{style:{marginTop:"15px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Submitted:"),r.a.createElement("span",null,B.filter(t=>t.deliverableId===e.id).length," / ",u.length)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("span",{style:{fontWeight:"500"}},"Completed:"),r.a.createElement("span",null,B.filter(t=>t.deliverableId===e.id&&"approved"===t.status).length," / ",u.length))))))),"applications"===P&&r.a.createElement("div",null,r.a.createElement("h3",{style:{marginBottom:"20px"}},"Pending Applications"),0===v.length?r.a.createElement("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)",textAlign:"center"}},r.a.createElement("p",null,"No pending applications to review.")):r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))",gap:"20px"}},v.map(e=>{var t,a,n,l,s,c,d,u;return r.a.createElement("div",{key:e.id,style:{background:"white",padding:"25px",borderRadius:"16px",boxShadow:"0 10px 30px rgba(0,0,0,0.05)"}},r.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"15px"}},r.a.createElement("div",{style:{width:"50px",height:"50px",borderRadius:"50%",background:"var(--primary)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"500"}},(null===(t=e.studentProfile)||void 0===t?void 0:null===(a=t.firstName)||void 0===a?void 0:a.charAt(0))||"S",(null===(n=e.studentProfile)||void 0===n?void 0:null===(l=n.lastName)||void 0===l?void 0:l.charAt(0))||""),r.a.createElement("div",null,r.a.createElement("h4",{style:{marginBottom:"5px"}},null===(s=e.studentProfile)||void 0===s?void 0:s.firstName," ",null===(c=e.studentProfile)||void 0===c?void 0:c.lastName),r.a.createElement("div",{style:{fontSize:"14px",color:"#666"}},(null===(d=e.studentProfile)||void 0===d?void 0:d.university)||"Student"," - ",(null===(u=e.studentProfile)||void 0===u?void 0:u.major)||"Not specified"))),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("h4",{style:{marginBottom:"10px"}},"Cover Letter"),r.a.createElement("p",{style:{padding:"15px",background:"#f8fafc",borderRadius:"8px",fontSize:"14px",maxHeight:"150px",overflowY:"auto"}},e.coverLetter)),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("strong",null,"Availability:")," ",e.availability),r.a.createElement("div",{style:{marginBottom:"15px"}},r.a.createElement("strong",null,"Applied:")," ",M(e.appliedAt)),r.a.createElement("div",{style:{display:"flex",gap:"15px"}},r.a.createElement("button",{onClick:()=>(async e=>{try{var t,a;await Object(p.m)(Object(p.e)(y,"applications",e.id),{status:"accepted",updatedAt:Object(p.k)()}),await Object(p.m)(Object(p.e)(y,"projects",o),{enrolledStudents:Object(p.b)(e.studentId)}),await Object(p.a)(Object(p.c)(y,"activities"),{projectId:o,userId:i.uid,userType:"company",activityType:"enrollment",content:`accepted ${null===(t=e.studentProfile)||void 0===t?void 0:t.firstName} ${(null===(a=e.studentProfile)||void 0===a?void 0:a.lastName)||"student"}'s application`,timestamp:Object(p.k)()});const n=Object(p.j)(Object(p.c)(y,"applications"),Object(p.n)("projectId","==",o),Object(p.n)("status","==","pending")),r=(await Object(p.g)(n)).docs.map(e=>({id:e.id,...e.data()})),l=await Promise.all(r.map(async e=>{const t=await Object(p.f)(Object(p.e)(y,"studentProfiles",e.studentId));return t.exists()?{...e,studentProfile:{id:t.id,...t.data()}}:e}));f(l);const s=await Object(p.f)(Object(p.e)(y,"projects",o)),c={id:s.id,...s.data()};m(c);const d=c.enrolledStudents||[];if(d.length>0){const e=[];for(const t of d){const a=await Object(p.f)(Object(p.e)(y,"studentProfiles",t));a.exists()&&e.push({id:a.id,...a.data()})}g(e)}}catch(O){console.error("Error accepting application:",O)}})(e),className:"btn btn-primary",style:{flex:"1"}},"Accept"),r.a.createElement("button",{onClick:()=>(async e=>{try{await Object(p.m)(Object(p.e)(y,"applications",e.id),{status:"rejected",updatedAt:Object(p.k)()});const t=Object(p.j)(Object(p.c)(y,"applications"),Object(p.n)("projectId","==",o),Object(p.n)("status","==","pending")),a=(await Object(p.g)(t)).docs.map(e=>({id:e.id,...e.data()})),n=await Promise.all(a.map(async e=>{const t=await Object(p.f)(Object(p.e)(y,"studentProfiles",e.studentId));return t.exists()?{...e,studentProfile:{id:t.id,...t.data()}}:e}));f(n)}catch(O){console.error("Error rejecting application:",O)}})(e),className:"btn btn-outline",style:{flex:"1"}},"Decline")))})))))};var F=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("div",{style:{padding:"120px 0",textAlign:"center",background:"linear-gradient(135deg, #f5f7ff 0%, #eef1ff 100%)"}},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{style:{fontSize:"120px",margin:"0",background:"linear-gradient(to right, var(--primary), var(--gradient-end))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"404"),r.a.createElement("h2",{style:{fontSize:"36px",marginBottom:"20px"}},"Page Not Found"),r.a.createElement("p",{style:{fontSize:"18px",color:"#666",maxWidth:"600px",margin:"0 auto 40px"}},"The page you are looking for might have been removed, had its name changed, or is temporarily unavailable."),r.a.createElement(i.b,{to:"/",className:"btn btn-primary"},"Back to Home"))));var z=function(){return r.a.createElement(v,null,r.a.createElement(i.a,null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",element:r.a.createElement(j,null)}),r.a.createElement(s.b,{path:"/login",element:r.a.createElement(w,null)}),r.a.createElement(s.b,{path:"/register",element:r.a.createElement(O,null)}),r.a.createElement(s.b,{path:"/projects",element:r.a.createElement(D,null)}),r.a.createElement(s.b,{path:"/projects/:id",element:r.a.createElement(I,null)}),r.a.createElement(s.b,{path:"/student/dashboard",element:r.a.createElement(f,null,r.a.createElement(S,null))}),r.a.createElement(s.b,{path:"/student/project/:projectId",element:r.a.createElement(f,null,r.a.createElement(W,null))}),r.a.createElement(s.b,{path:"/company/dashboard",element:r.a.createElement(f,null,r.a.createElement(B,null))}),r.a.createElement(s.b,{path:"/company/project/:projectId",element:r.a.createElement(f,null,r.a.createElement(P,null))}),r.a.createElement(s.b,{path:"/create-profile",element:r.a.createElement(f,null,r.a.createElement(A,null))}),r.a.createElement(s.b,{path:"/post-project",element:r.a.createElement(f,null,r.a.createElement(T,null))}),r.a.createElement(s.b,{path:"*",element:r.a.createElement(F,null)}))))};var L=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,34)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:l,getTTFB:o}=t;a(e),n(e),r(e),l(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(z,null))),L()}},[[20,1,2]]]);
//# sourceMappingURL=main.352ce3cf.chunk.js.map